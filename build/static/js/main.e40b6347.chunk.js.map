{"version":3,"sources":["assets/images/logo-white.png","assets/images/transparency.png","../node_modules/validatorjs/src/lang sync /^/.//.*$","assets/theme/overrides.tsx","assets/theme/props.tsx","assets/theme/variables.tsx","assets/theme/index.tsx","formatters/errorMessage.ts","settings.tsx","components/Shared/Toast/global.tsx","components/Shared/Toast/index.tsx","services/log.ts","helpers/rxjs-operators/logError.ts","hooks/useModel.ts","helpers/rxjs-operators/cache.ts","helpers/rxjs-operators/tapSubscrible.ts","errors/api.ts","errors/serviceError.ts","formatters/apiResponse.ts","formatters/date.ts","services/storage.ts","services/token.ts","services/api.ts","services/auth.ts","components/Dialogs/ChangePassword.tsx","components/Dialogs/Login/Form.tsx","components/Dialogs/Login/RecoveryAcces.tsx","components/Dialogs/Login/index.tsx","components/Dialogs/index.tsx","interfaces/models/user.ts","helpers/rxjs-operators/bindComponent.ts","components/Shared/PermissionHide.tsx","components/Shared/PermissionRoute.tsx","components/Layout/Drawer/Content/ListItem.tsx","components/Shared/DropdownMenu/context.tsx","components/Shared/DropdownMenu/OptionItem.tsx","components/Shared/DropdownMenu/index.tsx","components/Layout/Drawer/Content/UserMenu.tsx","components/Layout/Drawer/Content/index.tsx","components/Layout/Drawer/context.tsx","components/Layout/Drawer/index.tsx","components/Shared/Alert/global.tsx","components/Layout/Toolbar.tsx","components/Pages/Admin/Dashboard.tsx","components/Shared/CardLoader.tsx","components/Shared/ErrorMessage.tsx","components/Shared/IconMessage.tsx","components/Shared/Pagination/EmptyAndErrorMessages.tsx","components/Shared/Pagination/SearchField.tsx","components/Shared/Alert/index.tsx","components/Shared/ErrorMessageIcon.tsx","components/Shared/Pagination/TableCellActions.tsx","components/Shared/Pagination/TableCellSortable.tsx","components/Shared/Pagination/TablePagination.tsx","components/Shared/TableWrapper.tsx","hooks/usePagination.ts","services/order.ts","components/Pages/Admin/Order/OrderFormDialog.tsx","components/Pages/Admin/Order/List/ListItem.tsx","components/Pages/Admin/Order/List/index.tsx","components/Pages/Admin/Order/index.tsx","components/Layout/ToolbarTabs.tsx","helpers/imagerCompress.ts","components/Shared/ImageSelector/helpers.ts","components/Shared/ImageSelector/ImageReader.tsx","components/Shared/ImageSelector/index.tsx","components/Pages/Admin/Sample.tsx","services/user.ts","components/Pages/Admin/User/UserFormDialog.tsx","components/Pages/Admin/User/List/ListItem.tsx","components/Pages/Admin/User/List/index.tsx","components/Pages/Admin/User/index.tsx","components/Pages/Admin/index.tsx","components/Pages/Public/NewPassword/style.tsx","components/Pages/Public/NewPassword/index.tsx","components/Pages/index.tsx","services/loader.ts","components/Shared/Loader.tsx","fieldConfig.tsx","App.tsx","index.tsx"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","overrides","MuiTablePagination","input","padding","marginLeft","marginRight","selectRoot","select","paddingRight","MuiExpansionPanel","root","marginTop","marginBottom","MuiExpansionPanelDetails","display","props","MuiInputLabel","shrink","variables","drawerWidth","headerHeight","headerHeightUpSm","tabbarHeight","contentPadding","contentPaddingUpSm","boxShadow","colors","facebook","google","primary","light","main","dark","contrastText","secondary","theme","createMuiTheme","palette","errorMessageFormatter","err","message","status","400","401","403","404","422","ENV","process","REACT_APP_ENV","trim","API_ENDPOINT","REACT_APP_API_ENDPOINT","REACT_APP_CDN_ENDPOINT","globalToast","SENTRY_KEY","REACT_APP_SENTRY_KEY","IS_DEVELOPMENT","lastPromise","Promise","showGlobalToast","error","timeout","a","async","then","setTimeout","ToastGlobalProvider","memo","useState","opened","setOpened","params","setParams","promiseResolve","setPromiseResolve","handleShow","useCallback","result","handleClose","useEffect","onClose","useStyles","makeStyles","wrapper","breakpoints","up","top","left","right","contentError","background","close","width","spacing","height","Toast","classes","vertical","horizontal","anchorOrigin","useMemo","isError","event","reason","Snackbar","open","autoHideDuration","className","ContentProps","action","IconButton","key","color","onClick","Global","show","logService","sentryKey","Sentry","dsn","environment","user","toString","email","username","extra","category","data","type","console","extraData","logError","ignore","source","lift","LogErrorOperator","subscriber","subscribe","LogErrorSubscriber","this","destination","value","next","complete","handleError","Subscriber","useModel","initialState","cloneDeep","freezeInitalState","model","setModel","dirty","setDirty","handlers","useRef","current","modelRef","setModelCallback","handler","newModel","cleanModel","globalCacheService","keysCreated","cache","options","MemoryCache","CacheOperator","refresh","persist","expirationMinutes","cacheClean","pipe","from","removeItem","all","switchMap","initalStream$","of","getItem","Date","expireAt","setItem","getTime","toISOString","push","ApiError","request","axiosResponse","response","config","baseURL","url","method","headers","ignoreLog","apiResponseFormatter","obj","Array","isArray","i","test","format","date","dateFnsParse","locale","dateFnsIsValid","dateParse","reduce","acc","storageService","Rx","localStorage","JSON","parse","catchError","stringify","regexp","filter","k","forEach","tokenService","token$","ReplaySubject","get","token","distinctUntilChanged","set","tap","setToken","atob","split","now","exp","apiService","apiEndpoint","undefined","body","retry","progress$","getToken","first","Authorization","axios","FormData","onUploadProgress","progress","loaded","total","res","checkNewToken","startWith","combineLatest","authService","openLogin","getUser","skip","api","user$","openLogin$","openChangePassword$","decode","fullName","firstName","lastName","roles","shareReplay","b","asObservable","password","post","accessToken","clearToken","currentPassword","newPassword","length","includes","some","r","useStyle","content","maxWidth","ChangePasswordDialog","setModelProp","loading","setLoading","useObservable","shouldOpenChangePassword","onCancel","closeChangePassword","useCallbackObservable","isValid","changePassword","onSubmit","Dialog","disableBackdropClick","disableEscapeKeyDown","onExited","TransitionComponent","Transition","LinearProgress","DialogTitle","DialogContent","label","disabled","validation","onChange","v","confirmPassword","validationContext","DialogActions","Button","forwardRef","ref","Slide","direction","buttons","justifyContent","LoginDialogForm","login","Card","CardContent","margin","CardActions","size","onRecoveryAccess","LoginDialogRecoveryAccess","sendResetPassword","onComplete","Typography","minHeight","minWidth","position","container","bottom","logo","textAlign","logoImage","maxHeight","viewContainer","boxSizing","LoginDialog","currentView","setCurrentView","shouldOpenLogin","handleChangeView","view","fullScreen","src","logoWhite","alt","index","Dialogs","Login","ChangePassword","enRoles","BindComponentOperator","component","subscription","bindComponentSubscriptions","originalWillUnmount","componentWillUnmount","s","unsubscribe","PermissionHide","role","canAccess","inverse","children","PermissionRoute","state","isAuthenticated","setState","Route","item","opacity","darken","icon","fill","text","expandablePanel","expandableTitle","expandableDetails","innerList","paddingLeft","DrawerListItem","expanded","setExpanded","handleClick","handleSubClick","menu","handleExandedClick","submenu","ExpansionPanel","ExpansionPanelSummary","expandIcon","ListItemIcon","ListItemText","ExpansionPanelDetails","List","sub","path","ListItem","button","disableGutters","DropdownMenuContext","React","createContext","OptionItem","context","useContext","preventDefault","stopPropagation","MenuItem","inset","DropdownMenu","targetElem","setTargetElem","Children","toArray","child","handleOpen","currentTarget","Menu","anchorEl","Provider","lineHeight","textSmall","UserMenu","handleChangePassword","openChangePassword","closeDrawer","logout","handleLogout","Grid","wrap","xs","variant","KeyVariantIcon","ExitToAppIcon","header","list","Content","navigate","DrawerContext","drawer","borderRight","Drawer","withRouter","modalProps","keepMounted","drawerClasses","paper","drawerOpened","setDrawerOpened","history","contextValue","Hidden","mdUp","implementation","anchor","ModalProps","smDown","globalAlert","appBar","backgroundColor","iconMenu","Toolbar","openDrawer","AppBar","noWrap","title","DashboardIndexPage","name","uv","pv","amt","dataPie","md","lg","gutterBottom","dataKey","sm","entry","stroke","strokeWidth","CardLoader","ErrorMessage","tryAgain","IconMessage","EmptyAndErrorMessages","hasData","colSpan","onTryAgain","TableRow","TableCell","AlertCircleOutlineIcon","iconButton","SearchField","paginationParams","inputLabelProps","inputProps","endAdornment","InputAdornment","handleChange","term","page","placeholder","InputLabelProps","InputProps","showGlobalAlert","AlertGlobalProvider","confirmation","ok","zIndex","Alert","handleOk","handleCancel","DialogContentText","autoFocus","confirm","paramsData","ErrorMessageIcon","showAlert","onDismiss","td","whiteSpace","loader","TableCellActions","onDismissError","CircularProgress","TableCellSortable","column","isActive","orderBy","sortDirection","orderDirection","TableSortLabel","active","TablePagination","pageSize","scrollTop","ScrollTopContext","handleChangePage","handleChangeRowsPerPage","Number","target","labelDisplayedRows","to","count","style","pointerEvents","labelRowsPerPage","rowsPerPageOptions","rowsPerPage","onChangeRowsPerPage","onChangePage","overflow","scrollable","shadow","transition","noShadow","TableWrapper","scrollEnded","setScrollEnded","onScroll","endScroll","scrollWidth","clientWidth","scrollLeft","addEventListener","window","removeEventListener","usePaginationObservable","observableGenerator","initialParams","deps","lastResult","setLastResult","mergeParams","newParams","useRetryableObservable","delay","log","completed","orderService","delete","heading","OrderFormDialog","clearModel","handleEnter","order","handleExit","save","description","onEnter","amount","onEdit","onDeleteComplete","deleted","setDeleted","setError","handleDismissError","handleEdit","handleDelete","EditIcon","DeleteIcon","OrderListPage","formOpened","setFormOpened","setCurrent","handleCreate","formCallback","formCancel","handleRefresh","results","justify","alignItems","fullWidth","Table","TableHead","TableBody","UserIndexPage","ToolbarTabs","imageCompress","imageBase64","img","Image","freeRender","onload","canvas","document","createElement","getContext","insideCanvas","insideContext","drawImage","toDataURL","loadFile","file","extensions","reject","RegExp","join","reader","FileReader","image","onerror","readAsDataURL","calculateRegion","dialogWidth","innerWidth","dialogHeight","innerHeight","Math","floor","dropArea","border","borderRadius","paddingBottom","dropAreaProgress","dropAreaDragging","dropAreaDraggingChildren","ImageReader","inputRef","draggingOver","setDraggingOver","handleSelectImage","click","handleLoadFile","onLoad","onFileSelected","files","onDropFile","dataTransfer","onDragInOut","onDragIn","onDragOut","uploadButton","accept","droppable","onDrop","onDragOver","onDragLeave","FolderDownloadIcon","imageContainer","transparency","ImageSelector","cropper","resizeTimeout","setResizeTimeout","setImage","saving","setSaving","dimentions","setDimentions","reCalculateRegion","clearTimeout","newDimentions","handleSave","crop","filename","base64","handleSetImage","alignContent","ratio","allowNewSelection","shadows","cardActions","SamplePage","selectorOpened","setSelectorOpened","openSelector","onSelectorComplete","Tabs","Tab","userService","UserFormDialog","rolesError","retryRoles","rules","helperText","checked","UserListPage","default","AdminPage","mainContent","ViewDashboardIcon","admin","AccountMultipleIcon","StarIcon","AccountCashIcon","scrollTo","renderRedirect","sysAdmin","exact","OrderIndexPage","render","NewPasswordPage","tokenData","setTokenData","queryString","location","search","t","resetPassword","Pages","renderEmpty","loaderService","refs","BehaviorSubject","outline","Loader","shouldShow","visible","paperProps","PaperProps","fieldConfig","ConfigBuilder","fromLang","lang","setTrumbowygConfig","btns","build","App","CssBaseline","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e40b6347.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAABQCAMAAAAQlwhOAAAB1FBMVEUAAAD+/v75+fn+/v7////////////+/v7+/v79/f08WPn////+/v7+/v7////+/v7+/v4iP/z////////+/v48Wfr+/v7+/v7////9/f37+/swTfr+/v7+/v48Wfr+/v79/f39/f08Wfr+/v7+/v48WPk8Wfn+/v47Vvk3Vfj8/Pz+/v7///////84Uvv////9/f3+/v7////+/v48WPn////+/v7///88WPn+/v7////6+vr///89Wfo8WPn////9/f3////+/v48WPk8WPn9/f07WPo7V/k6V/o7V/r+/v7///88WPn+/v48WPk8WPn+/v7+/v7+/v47V/k6V/r9/f06Vfj6+vo8WPk8Wfk8WPr///88Wfn+/v47V/j+/v7///83Vff7+/v///////87WPn+/v47V/n9/f08Wfn+/v47Wfg6V/j+/v47Wfn///89Wfn+/v729/1LZfmUpPtDXvn6+/3Z3v3Dy/xcc/pAW/mYp/vq7f3f4/2Fl/vy9P3v8f3L0vy/yPywu/xug/pofvpIY/n8/P3m6f21wPysuPySovuKm/tQafnV2/2ns/uir/t9j/p1ifrGzvydq/vs7/3Hz/xVbvm8xvyAkvphePp5jPqnemEHAAAAcHRSTlMA/gJLrIPl2UcF/kH89iz67QOywwj5uvOKVBcJ4jn90lAS85oh576jIRUH6d8pD7eXfQTx1cm9enZZLxAN7t7Gp56enpVgXk43MSbArJOKfXVsaGM+NCkc4s/Gr6aGaWQ+HAvLqYNdVEWyj3BH249UAzvsiAAACbdJREFUeNrlnGlb00AQx7e1iJazUNpSzlIKWJBSBLkFEVDuW0TkEAXxTlGKgMghICKC4K1f1mZnN02TkNJofB7C/4VsdrO1v85kZnawImm13m5JQ6dJdxjGNVWATo0KcpiAcjoGTOh06BkDyhzuL0anQBfqGCqjq+sUeHYlw1dKxxONe3baLSZUxrIxTXt2CyNW3bObSKsyDTNSSnmoVc9+YqSMIs9+fAFpUHnM0apr0p5ntxoZOWXmXdeYZ99hwulKpZY8uyCFCa+ca61IK3rGHEspeQ+0cZyiVWV4Ga9030UnX8Gq8liefQOdcOGqMgIZT3qjoJ+JWLfG0MkVVJUR6jY6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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEX////AwMCU81DAAAAAD0lEQVQI12Ng+I8V4RIGAH6/D/EIQoVRAAAAAElFTkSuQmCC\"","var map = {\n\t\"./ar\": 364,\n\t\"./ar.js\": 364,\n\t\"./az\": 365,\n\t\"./az.js\": 365,\n\t\"./be\": 366,\n\t\"./be.js\": 366,\n\t\"./bg\": 367,\n\t\"./bg.js\": 367,\n\t\"./bs\": 368,\n\t\"./bs.js\": 368,\n\t\"./ca\": 369,\n\t\"./ca.js\": 369,\n\t\"./cs\": 370,\n\t\"./cs.js\": 370,\n\t\"./cy\": 371,\n\t\"./cy.js\": 371,\n\t\"./da\": 372,\n\t\"./da.js\": 372,\n\t\"./de\": 373,\n\t\"./de.js\": 373,\n\t\"./el\": 374,\n\t\"./el.js\": 374,\n\t\"./en\": 292,\n\t\"./en.js\": 292,\n\t\"./es\": 375,\n\t\"./es.js\": 375,\n\t\"./et\": 376,\n\t\"./et.js\": 376,\n\t\"./eu\": 377,\n\t\"./eu.js\": 377,\n\t\"./fa\": 378,\n\t\"./fa.js\": 378,\n\t\"./fi\": 379,\n\t\"./fi.js\": 379,\n\t\"./fr\": 380,\n\t\"./fr.js\": 380,\n\t\"./hr\": 381,\n\t\"./hr.js\": 381,\n\t\"./hu\": 382,\n\t\"./hu.js\": 382,\n\t\"./id\": 383,\n\t\"./id.js\": 383,\n\t\"./it\": 384,\n\t\"./it.js\": 384,\n\t\"./ja\": 385,\n\t\"./ja.js\": 385,\n\t\"./ka\": 386,\n\t\"./ka.js\": 386,\n\t\"./ko\": 387,\n\t\"./ko.js\": 387,\n\t\"./lt\": 388,\n\t\"./lt.js\": 388,\n\t\"./lv\": 389,\n\t\"./lv.js\": 389,\n\t\"./mk\": 390,\n\t\"./mk.js\": 390,\n\t\"./mn\": 391,\n\t\"./mn.js\": 391,\n\t\"./ms\": 392,\n\t\"./ms.js\": 392,\n\t\"./nb_NO\": 393,\n\t\"./nb_NO.js\": 393,\n\t\"./nl\": 394,\n\t\"./nl.js\": 394,\n\t\"./pl\": 395,\n\t\"./pl.js\": 395,\n\t\"./pt\": 396,\n\t\"./pt.js\": 396,\n\t\"./pt_BR\": 397,\n\t\"./pt_BR.js\": 397,\n\t\"./ro\": 398,\n\t\"./ro.js\": 398,\n\t\"./ru\": 399,\n\t\"./ru.js\": 399,\n\t\"./sl\": 400,\n\t\"./sl.js\": 400,\n\t\"./sq\": 401,\n\t\"./sq.js\": 401,\n\t\"./sr\": 402,\n\t\"./sr.js\": 402,\n\t\"./sv\": 403,\n\t\"./sv.js\": 403,\n\t\"./tr\": 404,\n\t\"./tr.js\": 404,\n\t\"./ua\": 405,\n\t\"./ua.js\": 405,\n\t\"./uk\": 406,\n\t\"./uk.js\": 406,\n\t\"./vi\": 407,\n\t\"./vi.js\": 407,\n\t\"./zh\": 408,\n\t\"./zh.js\": 408,\n\t\"./zh_TW\": 409,\n\t\"./zh_TW.js\": 409\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 589;","import { Overrides } from '@material-ui/core/styles/overrides';\n\nconst overrides: Overrides = {\n  MuiTablePagination: {\n    input: {\n      padding: 0,\n      marginLeft: 7,\n      marginRight: 32\n    },\n    selectRoot: {\n      marginLeft: 0,\n      marginRight: 0\n    },\n    select: {\n      paddingRight: 20\n    }\n  },\n  MuiExpansionPanel: {\n    root: {\n      '&$expanded': {\n        marginTop: 0,\n        marginBottom: 0\n      }\n    }\n  },\n  MuiExpansionPanelDetails: {\n    root: {\n      display: 'block'\n    }\n  }\n};\n\nexport default overrides;\n","import { ComponentsProps } from '@material-ui/core/styles/props';\n\nconst props: ComponentsProps = {\n  MuiInputLabel: {\n    shrink: true\n  }\n};\n\nexport default props;\n","import { ThemeVariables } from '@material-ui/core/styles/createMuiTheme';\n\nconst variables: ThemeVariables = {\n  drawerWidth: 240,\n  headerHeight: 56,\n  headerHeightUpSm: 64,\n  tabbarHeight: 48,\n  contentPadding: 12,\n  contentPaddingUpSm: 24,\n  boxShadow:\n    '0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 5px 8px 0px rgba(0, 0, 0, 0.14), 0px 1px 14px 0px rgba(0, 0, 0, 0.12)',\n  colors: {\n    facebook: '#3b5998',\n    google: '#de5245'\n  }\n};\n\nexport default variables;\n","import createMuiTheme from '@material-ui/core/styles/createMuiTheme';\n\nimport overrides from './overrides';\nimport props from './props';\nimport variables from './variables';\n\nconst primary = {\n  light: '#4f5b62',\n  main: '#263238',\n  dark: '#000a12',\n  contrastText: '#fff'\n};\n\nconst secondary = {\n  light: '#7f85ff',\n  main: '#3d58f6',\n  dark: '#002fc2',\n  contrastText: '#fff'\n};\n\nexport const theme = createMuiTheme({\n  palette: { primary, secondary },\n  overrides,\n  variables,\n  props\n});\n\nexport const reverseTheme = createMuiTheme({\n  palette: { primary: secondary, secondary: primary },\n  overrides,\n  variables,\n  props\n});\n","export function errorMessageFormatter(err: any): string {\n  if (typeof err === 'string') {\n    return err;\n  }\n\n  const status: any = {\n    '-1': 'Servidor não encontrado',\n    400: 'Dados inválidos',\n    401: 'Sem permissão de acesso',\n    403: 'Sem permissão de acesso',\n    404: 'Não encontrado',\n    422: 'Dados inválidos'\n  };\n\n  switch ((err || {}).message) {\n    case 'no-internet':\n    case 'NETWORK_ERROR':\n      return 'Sem conexão com a internet';\n    case 'zipcode-not-found':\n      return 'CEP não encontrado';\n    case 'api-error':\n      if (err.status === -1) {\n        return 'Não conseguimos se comunicar com o servidor';\n      }\n\n      return status[err.status] || 'Algo deu errado...';\n    default:\n      return 'Algo deu errado...';\n  }\n}\n","export const ENV = (process.env.REACT_APP_ENV || 'production').trim();\n\nexport const API_ENDPOINT = (process.env.REACT_APP_API_ENDPOINT || '').trim();\nexport const CDN_ENDPOINT = (process.env.REACT_APP_CDN_ENDPOINT || '').trim();\n\nif (!API_ENDPOINT) throw new Error('Please provide an API_ENDPOINT');\n\nexport const SENTRY_KEY = (process.env.REACT_APP_SENTRY_KEY || '').trim();\n\nexport const TOAST_DEFAULT_TIMEOUT = 3000;\nexport const TOAST_ERROR_TIMEOUT = 15000;\n\nexport const IS_DEVELOPMENT = ENV === 'development';\n","import React, { useCallback, memo, useState, useEffect } from 'react';\n\nimport Toast from '.';\n\ninterface IParams {\n  message: string;\n  error: any;\n  timeout?: number;\n}\n\nlet lastPromise = Promise.resolve();\nlet globalToast: (message: string, error: any, timeout?: number) => Promise<void>;\n\nconst ToastGlobalProvider = memo(() => {\n  const [opened, setOpened] = useState<boolean>(false);\n  const [params, setParams] = useState<IParams>();\n  const [promiseResolve, setPromiseResolve] = useState<() => void>();\n\n  const handleShow = useCallback((message: string, error: any, timeout?: number): Promise<void> => {\n    const result = new Promise<void>(resolve => {\n      setPromiseResolve(() => resolve);\n      setOpened(true);\n      setParams({ message, error, timeout });\n    });\n\n    result.then(() => setOpened(false));\n    return result;\n  }, []);\n\n  const handleClose = useCallback(() => {\n    promiseResolve && promiseResolve();\n  }, [promiseResolve]);\n\n  useEffect(() => {\n    if (globalToast) throw new Error('Only one Toast.Global can be initialized');\n    globalToast = handleShow;\n  }, [handleShow]);\n\n  return <Toast opened={opened} {...params} onClose={handleClose} />;\n});\n\nexport async function showGlobalToast(message: string, error: any, timeout?: number): Promise<void> {\n  if (!globalToast) throw new Error('Please, initialize an Toast.Global before');\n\n  //prevent an alert to overhide another\n  return (lastPromise = lastPromise.then(async () => {\n    await new Promise(resolve => setTimeout(() => resolve(), 300));\n    return globalToast(message, error, timeout);\n  }));\n}\n\nexport default ToastGlobalProvider;\n","import IconButton from '@material-ui/core/IconButton';\nimport Snackbar, { SnackbarOrigin } from '@material-ui/core/Snackbar';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport { errorMessageFormatter } from 'formatters/errorMessage';\nimport CloseIcon from 'mdi-react/CloseIcon';\nimport React, { ComponentType, memo, MemoExoticComponent, useCallback, useMemo, useState } from 'react';\nimport { TOAST_DEFAULT_TIMEOUT, TOAST_ERROR_TIMEOUT } from 'settings';\n\nimport ToastGlobalProvider, { showGlobalToast } from './global';\n\ninterface IProps {\n  opened: boolean;\n  message?: string;\n  timeout?: number;\n  error?: Error;\n  onClose: () => void;\n  classes?: any;\n}\n\ntype ToastComponent = MemoExoticComponent<ComponentType<IProps>> & {\n  Global?: typeof ToastGlobalProvider;\n\n  show?(message: string, timeout?: number): Promise<void>;\n  error?(error: any): Promise<void>;\n};\n\nconst useStyles = makeStyles(theme => ({\n  wrapper: {\n    [theme.breakpoints.up('sm')]: {\n      top: '24px',\n      left: 'auto',\n      right: '24px'\n    }\n  },\n  contentError: {\n    background: theme.palette.error.main\n  },\n  close: {\n    width: theme.spacing(4),\n    height: theme.spacing(4)\n  }\n}));\n\nconst Toast: ToastComponent = memo((props: IProps) => {\n  const classes = useStyles(props);\n  const [anchorOrigin] = useState<SnackbarOrigin>({ vertical: 'top', horizontal: 'right' });\n\n  const [message, isError] = useMemo(() => {\n    return props.message ? [props.message, false] : [errorMessageFormatter(props.error), true];\n  }, [props.error, props.message]);\n\n  const handleClose = useCallback(\n    (event: any, reason?: string) => {\n      if (reason === 'clickaway') return;\n      props.onClose();\n    },\n    [props]\n  );\n\n  return (\n    <Snackbar\n      anchorOrigin={anchorOrigin}\n      open={props.opened}\n      autoHideDuration={props.timeout}\n      onClose={handleClose}\n      message={<span>{message}</span>}\n      className={classes.wrapper}\n      ContentProps={{ className: isError ? classes.contentError : null }}\n      action={[\n        <IconButton key='close' color='inherit' className='close' onClick={handleClose}>\n          <CloseIcon />\n        </IconButton>\n      ]}\n    />\n  );\n});\n\nToast.Global = ToastGlobalProvider;\n\nToast.show = (message: string, timeout?: number) => {\n  return showGlobalToast(message, null, timeout || TOAST_DEFAULT_TIMEOUT);\n};\n\nToast.error = (error: any) => {\n  return showGlobalToast(null, error, TOAST_ERROR_TIMEOUT);\n};\n\nexport default Toast;\n","import * as Sentry from '@sentry/browser';\n\nimport IUserToken from '../interfaces/tokens/userToken';\nimport { ENV, IS_DEVELOPMENT, SENTRY_KEY } from '../settings';\n\nexport class LogService {\n  constructor(sentryKey: string) {\n    Sentry.init({\n      dsn: sentryKey,\n      environment: ENV\n    });\n  }\n\n  public setUser(user: IUserToken): void {\n    if (!user) {\n      Sentry.setUser({\n        id: null,\n        email: null,\n        username: null,\n        extra: {}\n      });\n      return;\n    }\n\n    Sentry.setUser({\n      id: user.id.toString(),\n      email: user.email,\n      username: user.email,\n      extra: { ...user }\n    });\n  }\n\n  public breadcrumb(message: string, category: string = 'manual', data: any = {}): void {\n    data = data || {};\n    delete data.type;\n\n    Sentry.addBreadcrumb({ message, category, data });\n  }\n\n  public handleError(err: any): void {\n    if (!err) return;\n\n    if (typeof err === 'string') {\n      err = new Error(err);\n    }\n\n    if (IS_DEVELOPMENT) {\n      console.error(err);\n    }\n\n    Sentry.withScope(() => {\n      Sentry.setExtras({ extra: err.extraData || {} });\n      Sentry.captureException(err);\n    });\n  }\n}\n\nconst logService = new LogService(SENTRY_KEY);\nexport default logService;\n","import { Observable, Operator, Subscriber, Subscription } from 'rxjs';\nimport logService from 'services/log';\n\nexport interface IIgnoreParam {\n  (err: any): boolean;\n}\n\nexport function logError<T>(ignore: IIgnoreParam = null) {\n  return (source: Observable<T>) => source.lift<T>(new LogErrorOperator(ignore));\n}\n\nclass LogErrorOperator<T> implements Operator<T, T> {\n  constructor(private ignore: IIgnoreParam) {}\n\n  public call(subscriber: Subscriber<any>, source: Observable<any>): Subscription {\n    return source.subscribe(new LogErrorSubscriber(subscriber, this.ignore));\n  }\n}\n\nclass LogErrorSubscriber extends Subscriber<any> {\n  constructor(protected destination: Subscriber<any>, private ignore: IIgnoreParam) {\n    super(destination);\n\n    this.ignore = ignore;\n  }\n\n  public _next(value: any): void {\n    this.destination.next(value);\n  }\n\n  public _complete(): void {\n    this.destination.complete();\n  }\n\n  public _error(err: any): void {\n    if (!this.ignore || !this.ignore(err)) {\n      logService.handleError(err);\n    }\n\n    this.destination.error(err);\n  }\n}\n","import cloneDeep from 'lodash/cloneDeep';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\nexport default function useModel<T>(initialState: Partial<T> = {}) {\n  const [freezeInitalState] = useState(cloneDeep(initialState));\n  const [model, setModel] = useState(cloneDeep(initialState));\n  const [dirty, setDirty] = useState(false);\n  const handlers = useRef<{ [key: string]: any }>({}).current;\n\n  const modelRef = useRef(model);\n\n  useEffect(() => {\n    modelRef.current = model;\n  });\n\n  const setModelCallback = useRef((key: string, handler: (model: Partial<T>, value: any) => void) => {\n    if (!handlers[key]) {\n      handlers[key] = (value: any) => {\n        const newModel = cloneDeep(modelRef.current);\n        handler(newModel, value);\n        setModel(newModel);\n        setDirty(true);\n      };\n    }\n\n    return handlers[key];\n  }).current;\n\n  const cleanModel = useCallback(() => {\n    setModel(cloneDeep(freezeInitalState));\n    setDirty(false);\n  }, [freezeInitalState]);\n\n  return [model, setModelCallback, setModel, dirty, cleanModel] as [\n    typeof model,\n    typeof setModelCallback,\n    typeof setModel,\n    typeof dirty,\n    typeof cleanModel\n  ];\n}\n","import { from, Observable, of, Operator, Subscriber, Subscription } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\n\nimport { tapSubscribe } from './tapSubscrible';\n\nlet globalCacheService: ICacheService;\nlet keysCreated: string[] = [];\n\nexport interface ICacheService {\n  getItem<T>(key: string): T | Promise<T>;\n  setItem<T>(key: string, data: T, persist?: boolean): void | Promise<void>;\n  removeItem(key: string): void | Promise<void>;\n}\n\nexport function setupCacheOperator(cacheService: ICacheService) {\n  globalCacheService = cacheService;\n}\n\nexport default function cache<T>(\n  key: string,\n  options: { refresh?: boolean; persist?: boolean; expirationMinutes?: number } = {}\n) {\n  if (!globalCacheService) {\n    globalCacheService = new MemoryCache();\n  }\n\n  return (source: Observable<T>) =>\n    source.lift(\n      new CacheOperator<T>(key, { refresh: false, persist: true, expirationMinutes: 5, ...options })\n    );\n}\n\nexport function cacheClean<T>(key?: string) {\n  return (source: Observable<T>) =>\n    source.pipe(\n      tapSubscribe<T>(() =>\n        from(\n          key\n            ? Promise.resolve(globalCacheService.removeItem(key))\n            : Promise.all(keysCreated.map(key => Promise.resolve(globalCacheService.removeItem(key)))).then(\n                () => (keysCreated = [])\n              )\n        )\n      )\n    );\n}\n\nclass CacheOperator<T> implements Operator<T, T> {\n  constructor(\n    private key: string,\n    private options: { refresh?: boolean; persist?: boolean; expirationMinutes?: number }\n  ) {}\n\n  public call(subscriber: Subscriber<T>, source: Observable<T>): Subscription {\n    let initalStream$ = of(null);\n\n    if (!this.options.refresh) {\n      initalStream$ = from(Promise.resolve(globalCacheService.getItem<{ expireAt: string; data: T }>(this.key))).pipe(\n        map(cache => {\n          if (!cache || new Date(cache.expireAt) > new Date()) return null;\n          return cache.data;\n        })\n      );\n    }\n\n    return initalStream$\n      .pipe(\n        switchMap(cache => {\n          if (cache) return of(cache);\n\n          return source.pipe(\n            switchMap(data => {\n              return from(\n                Promise.resolve(\n                  globalCacheService.setItem(\n                    this.key,\n                    {\n                      expireAt: new Date(new Date().getTime() + this.options.expirationMinutes * 60000).toISOString(),\n                      data\n                    },\n                    this.options.persist\n                  )\n                ).then(() => {\n                  keysCreated.push(this.key);\n                  return data;\n                })\n              );\n            })\n          );\n        })\n      )\n      .subscribe(subscriber);\n  }\n}\n\nclass MemoryCache implements ICacheService {\n  private data: { [key: string]: any } = {};\n\n  getItem<T>(key: string): T {\n    return this.data[key];\n  }\n\n  setItem<T>(key: string, data: T): void {\n    this.data[key] = data;\n  }\n\n  removeItem(key: string) {\n    delete this.data[key];\n  }\n}\n","import { Observable } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\n\nexport function tapSubscribe<T>(next: (x: T) => Observable<any>) {\n  return (source: Observable<T>) => source.pipe(switchMap(value => next(value).pipe(map(() => value))));\n}\n","import { AxiosRequestConfig, AxiosResponse } from 'axios';\n\nimport ServiceError from './serviceError';\n\ninterface IApiErrorMeta {\n  request: {\n    baseURL: string;\n    url: string;\n    method: string;\n    params: any;\n    data: any;\n    headers: any;\n  };\n  response?: {\n    status: number;\n    data?: any;\n  };\n  err: any;\n}\n\nexport default class ApiError extends ServiceError<IApiErrorMeta> {\n  public readonly status: number;\n  public readonly data: any;\n\n  constructor(request: AxiosRequestConfig, axiosResponse: AxiosResponse, err: any) {\n    const response = !axiosResponse\n      ? { status: -1, data: '' }\n      : { status: axiosResponse.status, data: axiosResponse.data };\n\n    delete err.request;\n    delete err.response;\n    delete err.config;\n\n    const message = response.data && response.data.message;\n    super(\n      message || 'api-error',\n      {\n        request: {\n          baseURL: request.baseURL,\n          url: request.url,\n          method: request.method,\n          params: request.params,\n          data: request.data,\n          headers: request.headers\n        },\n        response,\n        err\n      },\n      response.status < 500\n    );\n\n    this.status = response.status;\n    this.data = response.data;\n  }\n}\n","export default class ServiceError<T = any> extends Error {\n  public readonly ignoreLog: boolean;\n  public readonly extraData: T;\n\n  constructor(message: string, extraData?: T, ignoreLog: boolean = true) {\n    super(message);\n    this.extraData = extraData || null;\n    this.ignoreLog = ignoreLog;\n  }\n}\n","import { dateParse } from 'formatters/date';\n\nexport function apiResponseFormatter<T extends { [key: string]: any }>(obj: T): T {\n  if (!obj) return obj;\n\n  if (Array.isArray(obj)) {\n    return obj.map(i => apiResponseFormatter(i)) as any;\n  }\n\n  if (typeof obj === 'string' && isValidDateString(obj)) {\n    return dateParse(obj) as any;\n  }\n\n  if (typeof obj === 'object' && !(obj instanceof Date)) {\n    return Object.keys(obj).reduce((acc, key) => {\n      acc[key] = apiResponseFormatter(obj[key]);\n      return acc;\n    }, {}) as any;\n  }\n\n  return obj;\n}\n\nfunction isValidDateString(value: any): boolean {\n  return /^(\\d{4})-(\\d{2})-(\\d{2})([T\\s](\\d{2}):(\\d{2}):(\\d{2})(\\.(\\d+)(Z)?)?)?$/.test(value);\n}\n","import dateFnsFormat from 'date-fns/format';\nimport dateFnsIsValid from 'date-fns/isValid';\nimport locale from 'date-fns/locale/pt-BR';\nimport dateFnsParse from 'date-fns/parse';\n\nexport function dateParse(value: any, format: string = null): Date {\n  if (!value) return value;\n  if (value instanceof Date) return value;\n\n  const date = !format ? new Date(value) : dateFnsParse(value, format, new Date(), { locale });\n  if (!dateFnsIsValid(date)) return value;\n\n  return date;\n}\n\nexport function dateFormat(date: Date, format: string = 'dd/MM/yyyy'): string {\n  return dateFnsFormat(date, format, { locale });\n}\n","import * as Rx from 'rxjs';\n\nimport { apiResponseFormatter } from '../formatters/apiResponse';\nimport { catchError, map } from 'rxjs/operators';\n\nexport class StorageService {\n  public get<T = any>(key: string): Rx.Observable<T> {\n    return Rx.of(true).pipe(\n      map(() => localStorage.getItem(key)),\n      map(data => (data ? apiResponseFormatter(JSON.parse(data)) : null)),\n      catchError(() => Rx.of(null))\n    );\n  }\n\n  public set<T = any>(key: string, value: T): Rx.Observable<T> {\n    return Rx.of(true).pipe(\n      map(() => localStorage.setItem(key, JSON.stringify(value))),\n      map(() => value)\n    );\n  }\n\n  public clear(regexp: RegExp): Rx.Observable<void> {\n    return Rx.of(Object.keys(localStorage)).pipe(\n      map(keys => {\n        if (regexp) {\n          keys = keys.filter(k => regexp.test(k));\n        }\n\n        keys.forEach(k => localStorage.removeItem(k));\n        return null;\n      })\n    );\n  }\n}\n\nconst storageService = new StorageService();\nexport default storageService;\n","import { Observable, ReplaySubject } from 'rxjs';\n\nimport storageService, { StorageService } from './storage';\nimport { logError } from 'helpers/rxjs-operators/logError';\nimport { distinctUntilChanged, tap, map } from 'rxjs/operators';\n\nexport class TokenService {\n  private token$: ReplaySubject<string>;\n\n  constructor(private storageService: StorageService) {\n    this.token$ = new ReplaySubject(1);\n\n    this.storageService\n      .get('authToken')\n      .pipe(logError())\n      .subscribe(token => this.token$.next(token));\n  }\n\n  public getToken(): Observable<string> {\n    return this.token$.pipe(distinctUntilChanged());\n  }\n\n  public setToken(token: string): Observable<string> {\n    return this.storageService.set('authToken', token).pipe(tap(() => this.token$.next(token)));\n  }\n\n  public clearToken(): Observable<void> {\n    return this.setToken(null).pipe(map(() => null));\n  }\n\n  public decode<T>(token: string): T {\n    try {\n      const data = JSON.parse(atob(token.split('.')[1]));\n      const currentTime = Date.now() / 1000;\n\n      return currentTime > data.exp ? null : data;\n    } catch (err) {\n      return null;\n    }\n  }\n}\n\nconst tokenService = new TokenService(storageService);\nexport default tokenService;\n","import axios, { AxiosError, AxiosResponse, Method } from 'axios';\nimport ApiError from 'errors/api';\nimport { apiRequestFormatter } from 'formatters/apiRequest';\nimport * as Rx from 'rxjs';\n\nimport { API_ENDPOINT } from '../settings';\nimport { apiResponseFormatter } from './../formatters/apiResponse';\nimport authService from './auth';\nimport tokenService, { TokenService } from './token';\nimport {\n  filter,\n  combineLatest,\n  map,\n  first,\n  switchMap,\n  tap,\n  startWith,\n  distinctUntilChanged,\n  catchError,\n  skip\n} from 'rxjs/operators';\n\nexport class ApiService {\n  constructor(private apiEndpoint: string, private tokenService: TokenService) {}\n\n  public get<T = any>(url: string, params?: any): Rx.Observable<T> {\n    return this.request<T>('GET', url, params).pipe(\n      map(({ response }) => response),\n      filter(response => response !== undefined)\n    );\n  }\n\n  public post<T = any>(url: string, body: any): Rx.Observable<T> {\n    return this.request<T>('POST', url, body).pipe(\n      map(({ response }) => response),\n      filter(response => response !== undefined)\n    );\n  }\n\n  public put<T = any>(url: string, body: any): Rx.Observable<T> {\n    return this.request<T>('PUT', url, body).pipe(\n      map(({ response }) => response),\n      filter(response => response !== undefined)\n    );\n  }\n\n  public delete<T = any>(url: string, params?: any): Rx.Observable<T> {\n    return this.request<T>('DELETE', url, params).pipe(\n      map(({ response }) => response),\n      filter(response => response !== undefined)\n    );\n  }\n\n  public upload<T = any>(url: string, data: FormData) {\n    return this.request<T>('POST', url, data);\n  }\n\n  private request<T = any>(\n    method: Method,\n    url: string,\n    data: any = null,\n    retry: boolean = true\n  ): Rx.Observable<{ response: T; progress: number }> {\n    const progress$ = new Rx.BehaviorSubject(0);\n\n    return this.tokenService.getToken().pipe(\n      first(),\n      map(token => {\n        if (!token) return {};\n        return { Authorization: `Bearer ${token}` };\n      }),\n      switchMap(headers => {\n        return axios.request({\n          baseURL: this.apiEndpoint,\n          url,\n          method,\n          headers: {\n            ...headers,\n            'Content-Type': data instanceof FormData ? 'multipart/form-data' : 'application/json'\n          },\n          params: method === 'GET' ? apiRequestFormatter(data) : null,\n          data: method === 'POST' || method === 'PUT' ? apiRequestFormatter(data) : null,\n          onUploadProgress: (progress: ProgressEvent) => {\n            const result = progress.loaded / progress.total;\n            progress$.next(result * 100);\n          }\n        });\n      }),\n      tap(() => progress$.next(100)),\n      switchMap(res => this.checkNewToken(res)),\n      map(res => apiResponseFormatter<T>(res.data) || null),\n      startWith(undefined),\n      combineLatest(progress$.pipe(distinctUntilChanged()), (response, progress) => ({ response, progress })),\n      catchError(err => {\n        progress$.complete();\n        return this.handleError(err, retry);\n      })\n    );\n  }\n\n  private checkNewToken(response: AxiosResponse): Rx.Observable<AxiosResponse> {\n    const token = response.headers['x-token'];\n\n    if (!token) {\n      return Rx.of(response);\n    }\n\n    return this.tokenService.setToken(token).pipe(map(() => response));\n  }\n  private handleError(err: AxiosError, retry: boolean) {\n    if (!err.config || !err.response) return Rx.throwError(err);\n\n    if (err.response.status !== 401 || !retry) {\n      return Rx.throwError(new ApiError(err.config, err.response, err));\n    }\n\n    authService.openLogin();\n    return authService.getUser().pipe(\n      skip(1),\n      switchMap(user => {\n        if (!user) {\n          return Rx.throwError(new ApiError(err.config, err.response, err));\n        }\n\n        return this.request(err.config.method, err.config.url, err.config.data || err.config.params, false);\n      })\n    );\n  }\n}\n\nconst apiService = new ApiService(API_ENDPOINT, tokenService);\nexport default apiService;\n","import { cacheClean } from 'helpers/rxjs-operators/cache';\nimport { logError } from 'helpers/rxjs-operators/logError';\nimport IUserToken from 'interfaces/tokens/userToken';\nimport * as Rx from 'rxjs';\nimport { catchError, distinctUntilChanged, map, shareReplay, switchMap } from 'rxjs/operators';\n\nimport apiService, { ApiService } from './api';\nimport tokenService, { TokenService } from './token';\n\nexport class AuthService {\n  private user$: Rx.Observable<IUserToken>;\n  private openLogin$: Rx.BehaviorSubject<boolean>;\n  private openChangePassword$: Rx.BehaviorSubject<boolean>;\n\n  constructor(private api: ApiService, private tokenService: TokenService) {\n    this.openLogin$ = new Rx.BehaviorSubject(false);\n    this.openChangePassword$ = new Rx.BehaviorSubject(false);\n\n    this.user$ = this.tokenService.getToken().pipe(\n      map(token => {\n        if (!token) return null;\n\n        const user = this.tokenService.decode<IUserToken>(token);\n        if (!user) return null;\n\n        user.fullName = `${user.firstName} ${user.lastName}`;\n        user.roles = user.roles || [];\n        return user;\n      }),\n      catchError(() => Rx.of(null)),\n      shareReplay(1)\n    );\n\n    this.getUser()\n      .pipe(\n        distinctUntilChanged((a, b) => (a || ({} as IUserToken)).id !== (b || ({} as IUserToken)).id),\n        cacheClean(),\n        logError()\n      )\n      .subscribe();\n  }\n\n  public openLogin(): void {\n    this.openLogin$.next(true);\n  }\n\n  public shouldOpenLogin(): Rx.Observable<boolean> {\n    return this.openLogin$.asObservable();\n  }\n\n  public login(email: string, password: string): Rx.Observable<void> {\n    return this.api.post('/auth/login', { email, password }).pipe(\n      switchMap(accessToken => this.tokenService.setToken(accessToken)),\n      map(() => this.openLogin$.next(false))\n    );\n  }\n\n  public logout(): Rx.Observable<void> {\n    return this.tokenService.clearToken();\n  }\n\n  public sendResetPassword(email: string): Rx.Observable<void> {\n    return this.api.post('/auth/send-reset', { email });\n  }\n\n  public resetPassword(token: string, password: string): Rx.Observable<void> {\n    return this.api.post('/auth/reset-password', { token, password });\n  }\n\n  public openChangePassword(): void {\n    this.openChangePassword$.next(true);\n  }\n\n  public closeChangePassword(): void {\n    this.openChangePassword$.next(false);\n  }\n\n  public shouldOpenChangePassword(): Rx.Observable<boolean> {\n    return this.openChangePassword$.asObservable();\n  }\n\n  public changePassword(currentPassword: string, newPassword: string): Rx.Observable<void> {\n    return this.api.post('/auth/change-password', {\n      currentPassword,\n      newPassword\n    });\n  }\n\n  public getUser(): Rx.Observable<IUserToken> {\n    return this.user$;\n  }\n\n  public canAccess(...roles: string[]): Rx.Observable<boolean> {\n    return this.getUser().pipe(\n      map(user => {\n        if (!user) return false;\n\n        if (!roles || roles.length === 0) return true;\n        if (user.roles.includes('sysAdmin') || user.roles.includes('admin')) return true;\n\n        return roles.some(r => user.roles.includes(r));\n      })\n    );\n  }\n\n  public isAuthenticated(): Rx.Observable<boolean> {\n    return this.getUser().pipe(map(user => !!user));\n  }\n}\n\nconst authService = new AuthService(apiService, tokenService);\nexport default authService;\n","import Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Slide from '@material-ui/core/Slide';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport FormValidation from '@react-form-fields/material-ui/components/FormValidation';\nimport FieldText from '@react-form-fields/material-ui/components/Text';\nimport Toast from 'components/Shared/Toast';\nimport { logError } from 'helpers/rxjs-operators/logError';\nimport useModel from 'hooks/useModel';\nimport React, { forwardRef, memo, useCallback, useState } from 'react';\nimport { useCallbackObservable, useObservable } from 'react-use-observable';\nimport { of } from 'rxjs';\nimport { filter, switchMap, tap } from 'rxjs/operators';\nimport authService from 'services/auth';\n\ninterface IModel {\n  currentPassword: string;\n  newPassword: string;\n  confirmPassword: string;\n}\n\nconst useStyle = makeStyles({\n  content: {\n    width: 400,\n    maxWidth: 'calc(95vw - 50px)'\n  }\n});\n\nconst ChangePasswordDialog = memo((props: {}) => {\n  const classes = useStyle(props);\n  const [model, setModelProp, , , cleanModel] = useModel<IModel>();\n  const [loading, setLoading] = useState(false);\n\n  const [opened] = useObservable(() => {\n    return authService.shouldOpenChangePassword().pipe(logError());\n  }, []);\n\n  const onCancel = useCallback(() => authService.closeChangePassword(), []);\n\n  const [onSubmit] = useCallbackObservable(\n    (isValid: boolean) => {\n      return of(isValid).pipe(\n        filter(isValid => isValid),\n        tap(() => setLoading(true)),\n        switchMap(() => authService.changePassword(model.currentPassword, model.newPassword)),\n        tap(\n          () => {\n            setLoading(false);\n            Toast.show('Senha alterada com sucesso!');\n            authService.closeChangePassword();\n          },\n          err => {\n            setLoading(false);\n            Toast.error(err);\n          }\n        ),\n        logError()\n      );\n    },\n    [model]\n  );\n\n  return (\n    <Dialog\n      disableBackdropClick\n      disableEscapeKeyDown\n      open={opened || false}\n      onExited={cleanModel}\n      TransitionComponent={Transition}\n    >\n      {loading && <LinearProgress color='secondary' />}\n\n      <FormValidation onSubmit={onSubmit}>\n        <DialogTitle>Trocar Senha</DialogTitle>\n\n        <DialogContent className={classes.content}>\n          <FieldText\n            label='Senha Atual'\n            type='password'\n            disabled={loading}\n            value={model.currentPassword}\n            validation='required'\n            onChange={setModelProp('currentPassword', (model, v) => (model.currentPassword = v))}\n          />\n\n          <FieldText\n            label='Nova senha'\n            type='password'\n            disabled={loading}\n            value={model.newPassword}\n            validation='required|min:5'\n            onChange={setModelProp('newPassword', (model, v) => (model.newPassword = v))}\n          />\n\n          <FieldText\n            label='Repita a senha'\n            type='password'\n            disabled={loading}\n            value={model.confirmPassword}\n            validation='required|same:nova senha'\n            validationContext={{ 'nova senha': model.newPassword }}\n            onChange={setModelProp('confirmPassword', (model, v) => (model.confirmPassword = v))}\n          />\n        </DialogContent>\n\n        <DialogActions>\n          <Button disabled={loading} onClick={onCancel}>\n            Cancelar\n          </Button>\n          <Button color='primary' type='submit' disabled={loading}>\n            Salvar\n          </Button>\n        </DialogActions>\n      </FormValidation>\n    </Dialog>\n  );\n});\n\nconst Transition = memo(\n  forwardRef((props: any, ref: any) => {\n    return <Slide direction='up' {...props} ref={ref} />;\n  })\n);\n\nexport default ChangePasswordDialog;\n","import Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport FormValidation from '@react-form-fields/material-ui/components/FormValidation';\nimport FieldText from '@react-form-fields/material-ui/components/Text';\nimport Toast from 'components/Shared/Toast';\nimport { logError } from 'helpers/rxjs-operators/logError';\nimport useModel from 'hooks/useModel';\nimport React, { memo, MouseEvent, useState } from 'react';\nimport { useCallbackObservable } from 'react-use-observable';\nimport { of } from 'rxjs';\nimport { filter, switchMap, tap } from 'rxjs/operators';\nimport authService from 'services/auth';\n\ninterface IProps {\n  onRecoveryAccess: (e: MouseEvent<HTMLElement>) => void;\n}\n\nconst useStyles = makeStyles({\n  buttons: {\n    justifyContent: 'space-between'\n  }\n});\n\nconst LoginDialogForm = memo((props: IProps) => {\n  const classes = useStyles(props);\n\n  const [model, setModelProp, , , cleanModel] = useModel<{ email: string; password: string }>();\n  const [loading, setLoading] = useState(false);\n\n  const [onSubmit] = useCallbackObservable(\n    (isValid: boolean) => {\n      return of(isValid).pipe(\n        filter(isValid => isValid),\n        tap(() => setLoading(true)),\n        switchMap(() => authService.login(model.email, model.password)),\n        tap(\n          () => {\n            setLoading(false);\n            cleanModel();\n          },\n          err => {\n            Toast.error(err);\n            setLoading(false);\n          }\n        ),\n        logError()\n      );\n    },\n    [model]\n  );\n\n  return (\n    <FormValidation onSubmit={onSubmit}>\n      <Card>\n        <CardContent>\n          <FieldText\n            label='Email'\n            type='email'\n            disabled={loading}\n            value={model.email}\n            validation='required|email'\n            onChange={setModelProp('email', (model, v) => (model.email = v))}\n            margin='dense'\n          />\n\n          <FieldText\n            label='Senha'\n            type='password'\n            disabled={loading}\n            value={model.password}\n            validation='required'\n            onChange={setModelProp('password', (model, v) => (model.password = v))}\n          />\n        </CardContent>\n\n        <CardActions className={classes.buttons}>\n          <Button disabled={loading} size='small' onClick={props.onRecoveryAccess}>\n            Recuperar Acesso\n          </Button>\n          <Button disabled={loading} color='primary' type='submit'>\n            Entrar\n          </Button>\n        </CardActions>\n\n        {loading && <LinearProgress color='secondary' />}\n      </Card>\n    </FormValidation>\n  );\n});\nexport default LoginDialogForm;\n","import Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Typography from '@material-ui/core/Typography';\nimport FormValidation from '@react-form-fields/material-ui/components/FormValidation';\nimport FieldText from '@react-form-fields/material-ui/components/Text';\nimport Toast from 'components/Shared/Toast';\nimport { logError } from 'helpers/rxjs-operators/logError';\nimport useModel from 'hooks/useModel';\nimport React, { memo, MouseEvent, useState } from 'react';\nimport { useCallbackObservable } from 'react-use-observable';\nimport { of } from 'rxjs';\nimport { filter, switchMap, tap } from 'rxjs/operators';\nimport authService from 'services/auth';\n\ninterface IProps {\n  onCancel: (e: MouseEvent<HTMLElement>) => void;\n  onComplete: () => void;\n}\n\nconst useStyle = makeStyles({\n  buttons: {\n    justifyContent: 'space-between'\n  }\n});\n\nconst LoginDialogRecoveryAccess = memo((props: IProps) => {\n  const classes = useStyle(props);\n  const [model, setModelProp] = useModel<{ email: string }>();\n  const [loading, setLoading] = useState(false);\n\n  const [onSubmit] = useCallbackObservable(\n    (isValid: boolean) => {\n      return of(isValid).pipe(\n        filter(isValid => isValid),\n        tap(() => setLoading(true)),\n        switchMap(() => authService.sendResetPassword(model.email)),\n        tap(\n          () => {\n            setLoading(false);\n            Toast.show('Foi enviado um link para seu email para podermos recuperar seu acesso.');\n            props.onComplete();\n          },\n          err => {\n            setLoading(false);\n            Toast.error(err);\n          }\n        ),\n        logError()\n      );\n    },\n    [props.onComplete, model]\n  );\n\n  return (\n    <FormValidation onSubmit={onSubmit}>\n      <Card>\n        <CardContent>\n          <Typography>Iremos lhe enviar um email para recuperar seu acesso</Typography>\n\n          <FieldText\n            label='Email'\n            type='email'\n            disabled={loading}\n            value={model.email}\n            validation='required|email'\n            onChange={setModelProp('email', (model, v) => (model.email = v))}\n          />\n        </CardContent>\n\n        <CardActions className={classes.buttons}>\n          <Button disabled={loading} size='small' onClick={props.onCancel}>\n            Voltar\n          </Button>\n          <Button disabled={loading} color='primary' type='submit'>\n            Enviar\n          </Button>\n        </CardActions>\n\n        {loading && <LinearProgress color='secondary' />}\n      </Card>\n    </FormValidation>\n  );\n});\n\nexport default LoginDialogRecoveryAccess;\n","import Dialog from '@material-ui/core/Dialog';\nimport Slide from '@material-ui/core/Slide';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport logoWhite from 'assets/images/logo-white.png';\nimport { logError } from 'helpers/rxjs-operators/logError';\nimport React, { forwardRef, memo, useCallback, useState } from 'react';\nimport SwipeableViews from 'react-swipeable-views';\nimport { useObservable } from 'react-use-observable';\nimport authService from 'services/auth';\n\nimport LoginDialogForm from './Form';\nimport LoginDialogRecoveryAccess from './RecoveryAcces';\n\nconst useStyle = makeStyles(theme => ({\n  root: {\n    background: theme.palette.primary.main,\n    minHeight: '100vh',\n    minWidth: '100vw',\n    position: 'relative'\n  },\n  container: {\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    right: '0',\n    bottom: '0',\n    margin: 'auto',\n    width: 320,\n    height: 340,\n    maxWidth: 'calc(100% - 30px)',\n    color: 'white'\n  },\n  logo: {\n    textAlign: 'center',\n    marginBottom: 20\n  },\n  logoImage: {\n    maxWidth: '100%',\n    maxHeight: 120\n  },\n  viewContainer: {\n    boxSizing: 'border-box',\n    padding: '0 10px',\n    height: 310\n  }\n}));\n\nconst LoginDialog = memo((props: {}) => {\n  const classes = useStyle(props);\n  const [currentView, setCurrentView] = useState(0);\n\n  const [opened] = useObservable(() => {\n    return authService.shouldOpenLogin().pipe(logError());\n  }, []);\n\n  const handleChangeView = useCallback((view: number) => () => setCurrentView(view), []);\n\n  return (\n    <Dialog\n      fullScreen\n      disableBackdropClick\n      disableEscapeKeyDown\n      open={opened || false}\n      TransitionComponent={Transition}\n    >\n      <div className={classes.root}>\n        <div className={classes.container}>\n          <div className={classes.logo}>\n            <img src={logoWhite} className={classes.logoImage} alt='logo' />\n          </div>\n\n          <SwipeableViews index={currentView}>\n            <div className={classes.viewContainer}>\n              <LoginDialogForm onRecoveryAccess={handleChangeView(1)} />\n            </div>\n            <div className={classes.viewContainer}>\n              <LoginDialogRecoveryAccess onCancel={handleChangeView(0)} onComplete={handleChangeView(0)} />\n            </div>\n          </SwipeableViews>\n        </div>\n      </div>\n    </Dialog>\n  );\n});\n\nconst Transition = memo(\n  forwardRef((props: any, ref: any) => {\n    return <Slide direction='up' {...props} ref={ref} />;\n  })\n);\n\nexport default LoginDialog;\n","import React, { Fragment, memo } from 'react';\n\nimport ChangePasswordDialog from './ChangePassword';\nimport LoginDialog from './Login';\n\nconst Dialogs = memo(() => {\n  return (\n    <Fragment>\n      <LoginDialog />\n      <ChangePasswordDialog />\n    </Fragment>\n  );\n});\n\nexport default Dialogs;\n","export default interface IUser {\n  id?: number;\n  firstName: string;\n  lastName?: string;\n  email: string;\n  password?: string;\n  roles: enRoles[];\n\n  fullName?: string;\n\n  createdDate?: Date;\n  updatedDate?: Date;\n}\n\nexport enum enRoles {\n  sysAdmin = 'sysAdmin',\n  admin = 'admin',\n  user = 'user'\n}\n","import { Observable, Operator, Subscriber, Subscription, TeardownLogic } from 'rxjs';\nimport { Component } from 'react';\n\ninterface IBindableComponent {\n  bindComponentSubscriptions?: Subscription[];\n  componentWillUnmount?(): void;\n}\n\nexport function bindComponent<T>(component: Component) {\n  return (source: Observable<T>) => source.lift<T>(new BindComponentOperator(component));\n}\n\nclass BindComponentOperator<T> implements Operator<T, T> {\n  constructor(private component: IBindableComponent) {}\n\n  public call(subscriber: Subscriber<any>, source: Observable<any>): TeardownLogic {\n    const subscription = source.subscribe(subscriber);\n\n    if (!this.component.bindComponentSubscriptions) {\n      this.component.bindComponentSubscriptions = [];\n\n      const originalWillUnmount = this.component.componentWillUnmount;\n      this.component.componentWillUnmount = () => {\n        this.component.bindComponentSubscriptions.forEach((s: Subscription) => {\n          s.unsubscribe();\n        });\n\n        originalWillUnmount && originalWillUnmount();\n      };\n    }\n\n    this.component.bindComponentSubscriptions.push(subscription);\n    return subscription;\n  }\n}\n","import { logError } from 'helpers/rxjs-operators/logError';\nimport { enRoles } from 'interfaces/models/user';\nimport { memo, Props } from 'react';\nimport { useObservable } from 'react-use-observable';\nimport authService from 'services/auth';\n\ninterface IProps extends Props<{}> {\n  passIfNull?: boolean;\n  role?: enRoles | enRoles[];\n  inverse?: boolean;\n}\n\nconst PermissionHide = memo<IProps>(props => {\n  const [canAccess] = useObservable(() => {\n    const roles = Array.isArray(props.role) ? props.role : props.role ? [props.role] : [];\n    return authService.canAccess(...roles).pipe(logError());\n  }, [props.role]);\n\n  if (canAccess === undefined) {\n    return null;\n  }\n\n  if (props.inverse && !canAccess) {\n    return props.children as any;\n  }\n\n  if (props.inverse || !canAccess) {\n    return null;\n  }\n\n  return props.children as any;\n});\n\nexport default PermissionHide;\n","import { bindComponent } from 'helpers/rxjs-operators/bindComponent';\nimport { logError } from 'helpers/rxjs-operators/logError';\nimport { enRoles } from 'interfaces/models/user';\nimport React, { Fragment } from 'react';\nimport { Route, RouteProps } from 'react-router-dom';\nimport { tap } from 'rxjs/operators';\nimport authService from 'services/auth';\n\nimport PermissionHide from './PermissionHide';\n\ninterface IProps extends RouteProps {\n  role?: enRoles;\n}\n\nexport default class PermissionRoute extends Route<IProps> {\n  constructor(props: IProps) {\n    super(props);\n    this.state = { ...(this.state || {}) };\n  }\n\n  componentDidMount() {\n    super.componentDidMount && super.componentDidMount();\n\n    authService\n      .isAuthenticated()\n      .pipe(\n        logError(),\n        bindComponent(this),\n        tap(isAuthenticated => {\n          if (isAuthenticated) return;\n          authService.openLogin();\n        })\n      )\n      .subscribe(isAuthenticated => {\n        this.setState({ isAuthenticated });\n      });\n  }\n\n  render() {\n    const { isAuthenticated } = this.state;\n\n    if (!isAuthenticated) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        <PermissionHide role={this.props.role}>{super.render()}</PermissionHide>\n\n        <PermissionHide inverse role={this.props.role}>\n          <p>Não encontrado</p>\n        </PermissionHide>\n      </Fragment>\n    );\n  }\n}\n","import ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { darken } from '@material-ui/core/styles/colorManipulator';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport PermissionHide from 'components/Shared/PermissionHide';\nimport ExpandMoreIcon from 'mdi-react/ExpandMoreIcon';\nimport React, { memo, useCallback, useState } from 'react';\n\nimport { IMenu } from '..';\n\ninterface IProps {\n  data: IMenu;\n  onClick: (menu: IMenu) => void;\n  classes?: any;\n}\n\nconst useStyle = makeStyles(theme => ({\n  item: {\n    'paddingLeft': 14,\n    'opacity': 0.8,\n    '&.active': {\n      opacity: 1,\n      background: darken(theme.palette.primary.main, 0.3)\n    }\n  },\n  icon: {\n    margin: '0',\n    fill: theme.palette.primary.contrastText\n  },\n  text: {\n    color: 'inherit'\n  },\n  expandablePanel: {\n    'background': theme.palette.primary.main,\n    'color': theme.palette.primary.contrastText,\n    'marginLeft': -10,\n    'boxShadow': 'none',\n    'margin': 0,\n    '&.active': {\n      background: darken(theme.palette.primary.main, 0.1)\n    }\n  },\n  expandableTitle: {\n    '&:hover': {\n      background: darken(theme.palette.primary.main, 0.1)\n    }\n  },\n  expandableDetails: {\n    padding: 0\n  },\n  innerList: {\n    'padding': 0,\n    'width': '100%',\n    '& > div': {\n      paddingLeft: 40\n    }\n  }\n}));\n\nconst DrawerListItem = memo((props: IProps) => {\n  const classes = useStyle(props);\n  const [expanded, setExpanded] = useState(false);\n\n  const handleClick = useCallback(() => props.onClick(props.data), [props]);\n  const handleSubClick = useCallback((menu: IMenu) => props.onClick(menu), [props]);\n  const handleExandedClick = useCallback((event: any, expanded: boolean) => setExpanded(expanded), []);\n\n  if (!props.data.submenu || !props.data.submenu.length) {\n    return (\n      <PermissionHide>\n        <ListItem button disableGutters className={classes.item} onClick={handleClick}>\n          {!!props.data.icon && (\n            <ListItemIcon className={classes.icon} classes={{ root: classes.text }}>\n              <props.data.icon />\n            </ListItemIcon>\n          )}\n          <ListItemText primary={props.data.display} classes={{ primary: classes.text }} />\n        </ListItem>\n      </PermissionHide>\n    );\n  }\n\n  return (\n    <PermissionHide>\n      <ExpansionPanel\n        expanded={expanded}\n        onChange={handleExandedClick}\n        className={`${classes.expandablePanel} ${expanded ? 'active' : ''}`}\n      >\n        <ExpansionPanelSummary\n          className={classes.expandableTitle}\n          expandIcon={<ExpandMoreIcon className={classes.icon} />}\n        >\n          {!!props.data.icon && (\n            <ListItemIcon className={classes.icon} classes={{ root: classes.text }}>\n              <props.data.icon />\n            </ListItemIcon>\n          )}\n          <ListItemText primary={props.data.display} classes={{ primary: classes.text }} />\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails className={classes.expandableDetails}>\n          <List className={classes.innerList}>\n            {props.data.submenu.map(sub => (\n              <DrawerListItem key={sub.path} data={sub} onClick={handleSubClick} />\n            ))}\n          </List>\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n    </PermissionHide>\n  );\n});\n\nexport default DrawerListItem;\n","import React from 'react';\n\nexport interface IDropdownMenuContext {\n  (handler: () => void): void;\n}\n\nconst DropdownMenuContext = React.createContext<IDropdownMenuContext>(() => {});\n\nexport default DropdownMenuContext;\n","import ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport DotsHorizontalIcon from 'mdi-react/DotsHorizontalIcon';\nimport React, { memo, SyntheticEvent, useCallback, useContext } from 'react';\n\nimport DropdownMenuContext from './context';\n\ninterface IProps {\n  text: string;\n  icon?: typeof DotsHorizontalIcon;\n  handler: () => void;\n}\n\nconst useStyle = makeStyles({\n  text: {\n    paddingLeft: '0 !important'\n  }\n});\n\nconst OptionItem = memo((props: IProps) => {\n  const context = useContext(DropdownMenuContext);\n  const classes = useStyle(props);\n\n  const onClick = useCallback(\n    (event: SyntheticEvent) => {\n      event.preventDefault();\n      event.stopPropagation();\n      context(props.handler);\n    },\n    [context, props.handler]\n  );\n\n  return (\n    <MenuItem onClick={onClick}>\n      {!!props.icon && (\n        <ListItemIcon>\n          <props.icon />\n        </ListItemIcon>\n      )}\n      <ListItemText inset={!!props.icon} primary={props.text} className={props.icon ? classes.text : null} />\n    </MenuItem>\n  );\n});\n\nexport default OptionItem;\n","import IconButton from '@material-ui/core/IconButton';\nimport Menu, { MenuProps } from '@material-ui/core/Menu';\nimport DotsHorizontalIcon from 'mdi-react/DotsHorizontalIcon';\nimport React, { memo, useCallback, useMemo, useState } from 'react';\n\nimport PermissionHide from '../PermissionHide';\nimport DropdownMenuContext from './context';\nimport OptionItem from './OptionItem';\n\nexport interface IOption {\n  text: string;\n  icon?: typeof DotsHorizontalIcon;\n  handler: () => void;\n}\nconst DropdownMenu = memo((props: Partial<MenuProps>) => {\n  const [targetElem, setTargetElem] = useState<HTMLElement>();\n\n  const [options, content] = useMemo(() => {\n    const options: React.ReactChild[] = [];\n    const content: React.ReactChild[] = [];\n\n    React.Children.toArray(props.children).forEach((child: any) => {\n      if (child.type === OptionItem || child.type === PermissionHide) {\n        options.push(child);\n        return;\n      }\n\n      content.push(child);\n    });\n\n    return [options, content.length ? content : null];\n  }, [props.children]);\n\n  const handleOpen = useCallback((event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    setTargetElem(event.currentTarget);\n  }, []);\n\n  const handleClose = useCallback((event?: React.MouseEvent<HTMLElement>) => {\n    event && event.stopPropagation();\n    setTargetElem(null);\n  }, []);\n\n  const handleClick = useCallback(\n    (handler: () => void) => {\n      handleClose();\n      handler();\n    },\n    [handleClose]\n  );\n\n  return (\n    <div>\n      {!!content && <span onClick={handleOpen}>{content}</span>}\n\n      {!content && (\n        <IconButton onClick={handleOpen} color='inherit'>\n          <DotsHorizontalIcon />\n        </IconButton>\n      )}\n\n      <Menu {...props} anchorEl={targetElem} open={!!targetElem} onClose={handleClose}>\n        <DropdownMenuContext.Provider value={handleClick}>{options}</DropdownMenuContext.Provider>\n      </Menu>\n    </div>\n  );\n});\n\nexport default DropdownMenu;\n","import Grid from '@material-ui/core/Grid';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Typography from '@material-ui/core/Typography';\nimport DropdownMenu from 'components/Shared/DropdownMenu';\nimport OptionItem from 'components/Shared/DropdownMenu/OptionItem';\nimport { logError } from 'helpers/rxjs-operators/logError';\nimport ExitToAppIcon from 'mdi-react/ExitToAppIcon';\nimport KeyVariantIcon from 'mdi-react/KeyVariantIcon';\nimport React, { memo, useCallback } from 'react';\nimport { useCallbackObservable, useObservable } from 'react-use-observable';\nimport { of } from 'rxjs';\nimport { switchMap, tap } from 'rxjs/operators';\nimport authService from 'services/auth';\n\ninterface IProps {\n  closeDrawer: () => void;\n  classes?: any;\n}\n\nconst useStyle = makeStyles(theme => ({\n  root: {\n    textAlign: 'left',\n    color: theme.palette.primary.contrastText,\n    width: '100%'\n  },\n  text: {\n    padding: '8px 15px 0 15px',\n    lineHeight: 'normal'\n  },\n  textSmall: {\n    display: 'block',\n    marginBottom: '2px'\n  }\n}));\n\nconst UserMenu = memo((props: IProps) => {\n  const classes = useStyle(props);\n\n  const [user] = useObservable(() => {\n    return authService.getUser().pipe(logError());\n  }, []);\n\n  const handleChangePassword = useCallback(() => authService.openChangePassword(), []);\n\n  const [handleLogout] = useCallbackObservable(() => {\n    return of(true).pipe(\n      tap(() => props.closeDrawer()),\n      switchMap(() => authService.logout()),\n      logError()\n    );\n  }, []);\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <Grid container className={classes.root} wrap='nowrap'>\n      <Grid item xs={true}>\n        <Typography variant='body1' color='inherit' className={classes.text}>\n          <small className={classes.textSmall}>Bem vindo</small>\n          {user.firstName}\n        </Typography>\n      </Grid>\n      <Grid item>\n        <DropdownMenu>\n          <OptionItem text='Trocar senha' icon={KeyVariantIcon} handler={handleChangePassword} />\n          <OptionItem text='Sair' icon={ExitToAppIcon} handler={handleLogout} />\n        </DropdownMenu>\n      </Grid>\n    </Grid>\n  );\n});\n\nexport default UserMenu;\n","import List from '@material-ui/core/List';\nimport { darken } from '@material-ui/core/styles/colorManipulator';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport logoWhite from 'assets/images/logo-white.png';\nimport React, { memo, useCallback } from 'react';\n\nimport { IMenu } from '..';\nimport DrawerListItem from './ListItem';\nimport UserMenu from './UserMenu';\n\ninterface IProps {\n  menu: IMenu[];\n  navigate: (path: string) => void;\n  close: () => void;\n}\n\nconst useStyle = makeStyles(theme => ({\n  root: {\n    background: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText,\n    height: '100vh'\n  },\n  header: {\n    padding: '10px 0',\n    textAlign: 'center',\n    background: darken(theme.palette.primary.main, 0.15)\n  },\n  logo: {\n    maxWidth: 170,\n    maxHeight: 100,\n    margin: '10px 0'\n  },\n  list: {\n    padding: 0\n  }\n}));\n\nconst Content = memo((props: IProps) => {\n  const classes = useStyle(props);\n  const navigate = useCallback((menu: IMenu) => props.navigate(menu.path), [props]);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.header}>\n        <img src={logoWhite} className={classes.logo} alt='logo' />\n        <UserMenu closeDrawer={props.close} />\n      </div>\n\n      <List className={classes.list}>\n        {props.menu.map(item => (\n          <DrawerListItem key={item.path} data={item} onClick={navigate} />\n        ))}\n      </List>\n    </div>\n  );\n});\n\nexport default Content;\n","import React from 'react';\n\nexport interface IDrawerContext {\n  open(): void;\n  close(): void;\n}\n\nexport const DrawerContext = React.createContext<IDrawerContext>(null);\n","import CoreDrawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport { enRoles } from 'interfaces/models/user';\nimport MoreIcon from 'mdi-react/MoreIcon';\nimport React, { Fragment, memo, Props, useCallback, useMemo, useRef, useState } from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router';\n\nimport Content from './Content';\nimport { DrawerContext } from './context';\n\nexport interface IMenu {\n  path: string;\n  icon?: typeof MoreIcon;\n  display: string;\n  role?: enRoles;\n  submenu?: IMenu[];\n}\n\ninterface IProps extends RouteComponentProps<{}>, Props<{}> {\n  menu: IMenu[];\n}\n\nconst useStyle = makeStyles(theme => ({\n  drawer: {\n    width: theme.variables.drawerWidth,\n    borderRight: 'none !important',\n    boxShadow: `${theme.variables.boxShadow} !important`,\n    [theme.breakpoints.up('md')]: {\n      width: theme.variables.drawerWidth,\n      position: 'relative',\n      height: '100vh'\n    }\n  }\n}));\n\nconst Drawer = memo(\n  withRouter((props: IProps) => {\n    const classes = useStyle(props);\n    const modalProps = useRef({ keepMounted: true }).current;\n    const drawerClasses = useRef({ paper: classes.drawer }).current;\n    const [drawerOpened, setDrawerOpened] = useState(false);\n\n    const navigate = useCallback(\n      (url: string) => {\n        props.history.push(url);\n        setDrawerOpened(false);\n      },\n      [props.history]\n    );\n\n    const contextValue = useMemo(\n      () => ({\n        open: () => setDrawerOpened(true),\n        close: () => setDrawerOpened(false)\n      }),\n      []\n    );\n\n    const content = <Content menu={props.menu} navigate={navigate} close={contextValue.close} />;\n\n    return (\n      <Fragment>\n        <DrawerContext.Provider value={contextValue}>\n          <Hidden mdUp implementation='css'>\n            <CoreDrawer\n              variant='temporary'\n              anchor='left'\n              open={drawerOpened}\n              classes={drawerClasses}\n              onClose={contextValue.close}\n              ModalProps={modalProps}\n            >\n              {content}\n            </CoreDrawer>\n          </Hidden>\n          <Hidden smDown implementation='css'>\n            <CoreDrawer variant='permanent' open classes={drawerClasses}>\n              {content}\n            </CoreDrawer>\n          </Hidden>\n\n          {props.children}\n        </DrawerContext.Provider>\n      </Fragment>\n    );\n  })\n);\n\nexport default Drawer;\n","import React, { memo, useState, useEffect, useCallback } from 'react';\n\nimport Alert, { IAlertShowParams } from '.';\n\nlet lastPromise = Promise.resolve(false);\nlet globalAlert: (params: IAlertShowParams) => Promise<boolean>;\n\nconst AlertGlobalProvider = memo(() => {\n  const [opened, setOpened] = useState<boolean>(false);\n  const [params, setParams] = useState<IAlertShowParams>();\n  const [promiseResolve, setPromiseResolve] = useState<(result: boolean) => void>();\n\n  const handleShow = useCallback((params: IAlertShowParams): Promise<boolean> => {\n    const result = new Promise<boolean>(resolve => {\n      setPromiseResolve(() => resolve);\n      setOpened(true);\n      setParams({ confirmation: false, title: null, ...params });\n    });\n\n    result.then(() => setOpened(false));\n    return result;\n  }, []);\n\n  const onClose = useCallback(\n    (ok: boolean) => {\n      promiseResolve && promiseResolve(ok);\n    },\n    [promiseResolve]\n  );\n\n  useEffect(() => {\n    if (globalAlert) throw new Error('Only one Alert.Global can be initialized');\n    globalAlert = handleShow;\n  }, [handleShow]);\n\n  return <Alert opened={opened} {...params} onClose={onClose} />;\n});\n\nexport async function showGlobalAlert(params: IAlertShowParams): Promise<boolean> {\n  if (!globalAlert) throw new Error('Please, initialize an Alert.Global before');\n\n  //prevent an alert to overhide another\n  return (lastPromise = lastPromise.then(async () => {\n    await new Promise(resolve => setTimeout(() => resolve(), 300));\n    return globalAlert(params);\n  }));\n}\n\nexport default AlertGlobalProvider;\n","import AppBar from '@material-ui/core/AppBar';\nimport IconButton from '@material-ui/core/IconButton';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport CoreToolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport MenuIcon from 'mdi-react/MenuIcon';\nimport React, { memo, Props, useCallback, useContext } from 'react';\n\nimport { DrawerContext } from './Drawer/context';\n\ninterface IProps extends Props<{}> {\n  title?: string;\n}\n\nconst useStyle = makeStyles(theme => ({\n  root: {\n    height: theme.variables.headerHeight,\n    marginTop: theme.variables.contentPadding * -1,\n    marginBottom: theme.variables.contentPadding,\n    [theme.breakpoints.up('sm')]: {\n      marginTop: theme.variables.contentPaddingUpSm * -1,\n      marginBottom: theme.variables.contentPaddingUpSm\n    }\n  },\n  appBar: {\n    marginLeft: theme.variables.drawerWidth,\n    [theme.breakpoints.up('md')]: {\n      width: `calc(100% - ${theme.variables.drawerWidth}px)`,\n      backgroundColor: 'white',\n      color: theme.palette.text.primary\n    }\n  },\n  iconMenu: {\n    marginLeft: '-15px',\n    [theme.breakpoints.up('md')]: {\n      display: 'none'\n    }\n  }\n}));\n\nconst Toolbar = memo((props: IProps) => {\n  const classes = useStyle(props);\n  const context = useContext(DrawerContext);\n\n  const openDrawer = useCallback(() => context.open(), [context]);\n\n  return (\n    <div className={classes.root}>\n      <AppBar className={classes.appBar}>\n        <CoreToolbar>\n          <IconButton color='inherit' onClick={openDrawer} className={classes.iconMenu}>\n            <MenuIcon />\n          </IconButton>\n          {props.children}\n          {!props.children && (\n            <Typography variant='h6' color='inherit' noWrap>\n              {props.title || 'App'}\n            </Typography>\n          )}\n        </CoreToolbar>\n      </AppBar>\n    </div>\n  );\n});\n\nexport default Toolbar;\n","import Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from 'components/Layout/Toolbar';\nimport React, { Fragment, memo, useState } from 'react';\nimport {\n  Area,\n  AreaChart,\n  Bar,\n  BarChart,\n  Cell,\n  Line,\n  LineChart,\n  Pie,\n  PieChart,\n  ResponsiveContainer,\n  Tooltip\n} from 'recharts';\n\nconst useStyles = makeStyles({\n  marginBottom: {\n    marginBottom: 15\n  }\n});\n\nconst DashboardIndexPage = memo((props: {}) => {\n  const classes = useStyles(props);\n  const [data] = useState([\n    { name: 'Page A', uv: 4000, pv: 2400, amt: 2400 },\n    { name: 'Page B', uv: 3000, pv: 1398, amt: 2210 },\n    { name: 'Page C', uv: 2000, pv: 9800, amt: 2290 },\n    { name: 'Page D', uv: 2780, pv: 3908, amt: 2000 },\n    { name: 'Page E', uv: 1890, pv: 4800, amt: 2181 },\n    { name: 'Page F', uv: 2390, pv: 3800, amt: 2500 },\n    { name: 'Page G', uv: 3490, pv: 4300, amt: 2100 }\n  ]);\n\n  const [dataPie] = useState([\n    { name: 'Group A', value: 400 },\n    { name: 'Group B', value: 300 },\n    { name: 'Group C', value: 300 },\n    { name: 'Group D', value: 200 }\n  ]);\n\n  const [colors] = useState(['#0088FE', '#00C49F', '#FFBB28', '#FF8042']);\n\n  return (\n    <Fragment>\n      <Toolbar title='Dashboard' />\n\n      <Grid container spacing={3} className={classes.marginBottom}>\n        <Grid item xs={12} md={4} lg={6}>\n          <Card>\n            <CardContent>\n              <Typography gutterBottom variant='subtitle1'>\n                Bar Chart\n              </Typography>\n\n              <ResponsiveContainer width='100%' height={150}>\n                <BarChart data={data}>\n                  <Tooltip />\n                  <Bar dataKey='uv' fill={colors[0]} />\n                  <Bar dataKey='pv' fill={colors[1]} />\n                </BarChart>\n              </ResponsiveContainer>\n            </CardContent>\n          </Card>\n        </Grid>\n\n        <Grid item xs={12} sm={6} md={4} lg={3}>\n          <Card>\n            <CardContent>\n              <Typography gutterBottom variant='subtitle1'>\n                Pie Chart\n              </Typography>\n\n              <ResponsiveContainer width='100%' height={150}>\n                <PieChart>\n                  <Pie dataKey={'value'} data={dataPie}>\n                    <Tooltip />\n                    {data.map((entry, index) => (\n                      <Cell key={entry.name} fill={colors[index % colors.length]} />\n                    ))}\n                  </Pie>\n                </PieChart>\n              </ResponsiveContainer>\n            </CardContent>\n          </Card>\n        </Grid>\n\n        <Grid item xs={12} sm={6} md={4} lg={3}>\n          <Card>\n            <CardContent>\n              <Typography gutterBottom variant='subtitle1'>\n                Area Chart\n              </Typography>\n\n              <ResponsiveContainer width='100%' height={150}>\n                <AreaChart data={data}>\n                  <Area type='monotone' dataKey='uv' stroke='#FF8042' fill='#FF8042' />\n                </AreaChart>\n              </ResponsiveContainer>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n\n      <Card>\n        <CardContent>\n          <Typography gutterBottom variant='h5'>\n            Line Chart\n          </Typography>\n\n          <ResponsiveContainer width='100%' height={200}>\n            <LineChart data={data}>\n              <Tooltip />\n              <Line type='monotone' dataKey='pv' stroke='#8884d8' strokeWidth={2} />\n            </LineChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n    </Fragment>\n  );\n});\n\nexport default DashboardIndexPage;\n","import LinearProgress from '@material-ui/core/LinearProgress';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport React, { memo } from 'react';\n\nconst useStyle = makeStyles({\n  container: {\n    height: 5\n  }\n});\n\nconst CardLoader = memo((props: { show: boolean }) => {\n  const classes = useStyle(props);\n  return <div className={classes.container}>{props.show && <LinearProgress color='secondary' />}</div>;\n});\n\nexport default CardLoader;\n","import Button from '@material-ui/core/Button';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Typography from '@material-ui/core/Typography';\nimport { errorMessageFormatter } from 'formatters/errorMessage';\nimport AlertCircleIcon from 'mdi-react/AlertCircleIcon';\nimport React, { memo } from 'react';\n\ninterface IProps {\n  error: any;\n  tryAgain?: () => void;\n}\n\nconst useStyle = makeStyles(theme => ({\n  root: {\n    textAlign: 'center',\n    margin: '20px 0'\n  },\n  icon: {\n    opacity: 0.8,\n    color: theme.palette.error.main\n  },\n  button: {\n    marginTop: 20\n  }\n}));\n\nconst ErrorMessage = memo((props: IProps) => {\n  const { error, tryAgain } = props;\n  const classes = useStyle(props);\n\n  return (\n    <div className={classes.root}>\n      <AlertCircleIcon size={50} className={classes.icon} />\n      <Typography variant='body1'>{errorMessageFormatter(error)}</Typography>\n\n      {tryAgain && (\n        <Button onClick={tryAgain} className={classes.button} color='primary' variant='outlined'>\n          Tentar novamente\n        </Button>\n      )}\n    </div>\n  );\n});\n\nexport default ErrorMessage;\n","import makeStyles from '@material-ui/core/styles/makeStyles';\nimport Typography from '@material-ui/core/Typography';\nimport MoreIcon from 'mdi-react/MoreIcon';\nimport React, { memo } from 'react';\n\ninterface IProps {\n  icon: typeof MoreIcon;\n  message: any;\n}\n\nconst useStyle = makeStyles({\n  root: {\n    textAlign: 'center',\n    padding: '20px',\n    width: 350,\n    maxWidth: '100%',\n    margin: 'auto'\n  },\n  icon: {\n    opacity: 0.7\n  }\n});\n\nconst IconMessage = memo((props: IProps) => {\n  const classes = useStyle(props);\n\n  return (\n    <div className={classes.root}>\n      <props.icon size={50} className={classes.icon} />\n      <Typography variant='body1'>{props.message}</Typography>\n    </div>\n  );\n});\n\nexport default IconMessage;\n","import TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport AlertCircleOutlineIcon from 'mdi-react/AlertCircleOutlineIcon';\nimport React, { Fragment, memo } from 'react';\n\nimport ErrorMessage from '../ErrorMessage';\nimport IconMessage from '../IconMessage';\n\ninterface IProps {\n  colSpan: number;\n  error?: any;\n  loading?: boolean;\n  hasData: boolean;\n  onTryAgain: () => void;\n}\n\nconst EmptyAndErrorMessages = memo((props: IProps) => {\n  const { error, hasData, loading, colSpan, onTryAgain } = props;\n\n  return (\n    <Fragment>\n      {loading && !hasData && (\n        <TableRow>\n          <TableCell className='empty' colSpan={colSpan}>\n            Carregando...\n          </TableCell>\n        </TableRow>\n      )}\n      {error && !loading && (\n        <TableRow>\n          <TableCell colSpan={colSpan} className='error'>\n            <ErrorMessage error={error} tryAgain={onTryAgain} />\n          </TableCell>\n        </TableRow>\n      )}\n      {!error && !hasData && !loading && (\n        <TableRow>\n          <TableCell colSpan={colSpan}>\n            <IconMessage icon={AlertCircleOutlineIcon} message='Nenhum item cadastrado...' />\n          </TableCell>\n        </TableRow>\n      )}\n    </Fragment>\n  );\n});\n\nexport default EmptyAndErrorMessages;\n","import IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport FieldText from '@react-form-fields/material-ui/components/Text';\nimport { IPaginationParams } from 'interfaces/pagination';\nimport MagnifyIcon from 'mdi-react/MagnifyIcon';\nimport React, { memo, useCallback, useMemo, useRef } from 'react';\n\ninterface IProps {\n  paginationParams: IPaginationParams;\n  onChange: (params: { term: string; page: number }) => void;\n}\n\nconst useStyle = makeStyles({\n  iconButton: {\n    marginRight: -15\n  }\n});\n\nconst SearchField = memo((props: IProps) => {\n  const { paginationParams, onChange } = props;\n\n  const classes = useStyle(props);\n\n  const inputLabelProps = useRef({ shrink: true }).current;\n  const inputProps = useMemo(() => {\n    return {\n      endAdornment: (\n        <InputAdornment position='end'>\n          <IconButton disabled={true} className={classes.iconButton}>\n            <MagnifyIcon />\n          </IconButton>\n        </InputAdornment>\n      )\n    };\n  }, [classes.iconButton]);\n\n  const handleChange = useCallback((term: string) => onChange({ term, page: 0 }), [onChange]);\n\n  return (\n    <FieldText\n      label='Pesquisar'\n      value={paginationParams.term}\n      onChange={handleChange}\n      margin='none'\n      placeholder='Digite ao menos 3 caracteres...'\n      InputLabelProps={inputLabelProps}\n      InputProps={inputProps}\n    />\n  );\n});\n\nexport default SearchField;\n","import Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport React, { ComponentType, forwardRef, memo, MemoExoticComponent, useCallback } from 'react';\n\nimport AlertGlobalProvider, { showGlobalAlert } from './global';\n\ninterface IProps {\n  opened: boolean;\n  message: React.ReactNode;\n  title?: string;\n  confirmation?: boolean;\n  global?: boolean;\n  onClose: (ok: boolean) => void;\n}\n\nexport interface IAlertShowParams {\n  message: React.ReactNode;\n  title?: string;\n  confirmation?: boolean;\n}\n\ntype AlertComponent = MemoExoticComponent<ComponentType<IProps>> & {\n  Global?: typeof AlertGlobalProvider;\n\n  show?(params: string): Promise<boolean>;\n  show?(params: IAlertShowParams): Promise<boolean>;\n\n  confirm?(params: string): Promise<boolean>;\n  confirm?(params: IAlertShowParams): Promise<boolean>;\n};\n\nconst useStyle = makeStyles({\n  root: {\n    zIndex: '1600 !important' as any\n  },\n  content: {\n    minWidth: '250px'\n  }\n});\n\nconst Alert: AlertComponent = memo((props: IProps) => {\n  const classes = useStyle(props);\n\n  const handleOk = useCallback(() => props.onClose(true), [props]);\n  const handleCancel = useCallback(() => props.onClose(false), [props]);\n\n  return (\n    <Dialog\n      open={props.opened}\n      keepMounted\n      TransitionComponent={Transition}\n      onClose={handleCancel}\n      className={classes.root}\n    >\n      <DialogTitle>{props.title || (props.confirmation ? 'Confirmação' : 'Atenção')}</DialogTitle>\n      <DialogContent>\n        <DialogContentText className={classes.content}>{props.message}</DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        {props.confirmation && (\n          <Button onClick={handleCancel} autoFocus>\n            Cancelar\n          </Button>\n        )}\n        <Button autoFocus={!props.confirmation} onClick={handleOk} color='primary'>\n          OK\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n});\n\nAlert.Global = AlertGlobalProvider;\n\nAlert.show = (params: string | IAlertShowParams) => {\n  const paramsData = typeof params === 'string' ? { message: params } : params;\n  return showGlobalAlert(paramsData);\n};\n\nAlert.confirm = (params: string | IAlertShowParams) => {\n  const paramsData = typeof params === 'string' ? { message: params } : params;\n  return showGlobalAlert({ ...paramsData, confirmation: true });\n};\n\nconst Transition = memo(\n  forwardRef((props: any, ref: any) => {\n    return <Slide direction='up' {...props} ref={ref} />;\n  })\n);\n\nexport default Alert;\n","import IconButton from '@material-ui/core/IconButton';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Alert from 'components/Shared/Alert';\nimport { errorMessageFormatter } from 'formatters/errorMessage';\nimport AlertCircleIcon from 'mdi-react/AlertCircleIcon';\nimport React, { memo, useCallback } from 'react';\n\ninterface IProps {\n  error: any;\n  onDismiss?: Function;\n}\n\nconst useStyle = makeStyles(theme => ({\n  icon: {\n    opacity: 0.8,\n    color: theme.palette.error.main\n  }\n}));\n\nconst ErrorMessageIcon = memo((props: IProps) => {\n  const classes = useStyle(props);\n\n  const showAlert = useCallback(async () => {\n    await Alert.show(errorMessageFormatter(props.error));\n    props.onDismiss && props.onDismiss();\n  }, [props]);\n\n  return (\n    <IconButton onClick={showAlert}>\n      <AlertCircleIcon className={classes.icon} />\n    </IconButton>\n  );\n});\n\nexport default ErrorMessageIcon;\n","import CircularProgress from '@material-ui/core/CircularProgress';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport TableCell from '@material-ui/core/TableCell';\nimport React, { memo, Props } from 'react';\n\nimport DropdownMenu, { IOption } from '../DropdownMenu';\nimport OptionItem from '../DropdownMenu/OptionItem';\nimport ErrorMessageIcon from '../ErrorMessageIcon';\n\ninterface IProps extends Props<null> {\n  options?: IOption[];\n  loading?: boolean;\n  error?: any;\n  onDismissError?: () => void;\n}\n\nconst useStyle = makeStyles({\n  td: {\n    textAlign: 'right',\n    width: 50,\n    whiteSpace: 'nowrap',\n    padding: 0\n  },\n  loader: {\n    padding: 12\n  }\n});\n\nconst TableCellActions = memo<IProps>(props => {\n  const classes = useStyle(props);\n  const { loading, error, options, onDismissError, children } = props;\n\n  return (\n    <TableCell className={classes.td}>\n      {children}\n      {loading && (\n        <div className={classes.loader}>\n          <CircularProgress color='secondary' size={20} />\n        </div>\n      )}\n      {!loading && error && <ErrorMessageIcon error={error} onDismiss={onDismissError} />}\n      {!loading && !error && options && (\n        <DropdownMenu>\n          {options.map(o => (\n            <OptionItem key={o.text} {...o} />\n          ))}\n        </DropdownMenu>\n      )}\n    </TableCell>\n  );\n});\n\nexport default TableCellActions;\n","import TableCell, { TableCellProps } from '@material-ui/core/TableCell';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport { IPaginationParams } from 'interfaces/pagination';\nimport React, { memo, useCallback, useMemo } from 'react';\n\ninterface IProps extends Omit<TableCellProps, 'onChange'> {\n  disabled?: boolean;\n  column: string;\n  paginationParams: IPaginationParams;\n  children?: React.ReactNode;\n  onChange: (params: { orderBy: string; orderDirection: 'asc' | 'desc' }) => void;\n}\n\nconst TableCellSortable = memo((props: IProps) => {\n  const { paginationParams, children, column, disabled, onChange, ...extra } = props;\n\n  const isActive = useMemo(() => paginationParams.orderBy === column, [column, paginationParams.orderBy]);\n  const sortDirection = useMemo(() => {\n    return isActive ? paginationParams.orderDirection : false;\n  }, [isActive, paginationParams.orderDirection]);\n\n  const handleChange = useCallback(() => {\n    const direction = isActive && paginationParams.orderDirection === 'asc' ? 'desc' : 'asc';\n    onChange({ orderBy: column, orderDirection: direction });\n  }, [column, isActive, onChange, paginationParams.orderDirection]);\n\n  return (\n    <TableCell {...extra} sortDirection={sortDirection}>\n      <TableSortLabel\n        disabled={disabled}\n        active={isActive}\n        direction={paginationParams.orderDirection}\n        onClick={handleChange}\n      >\n        {children}\n      </TableSortLabel>\n    </TableCell>\n  );\n});\n\nexport default TableCellSortable;\n","import TablePaginationCore, { LabelDisplayedRowsArgs, TablePaginationProps } from '@material-ui/core/TablePagination';\nimport { ScrollTopContext } from 'components/Pages/Admin';\nimport { IPaginationParams } from 'interfaces/pagination';\nimport React, { memo, useCallback, useContext } from 'react';\n\ntype IProps = Partial<Omit<TablePaginationProps, 'onChange'>> & {\n  disabled?: boolean;\n  paginationParams: IPaginationParams;\n  total: number;\n  onChange: (params: { page?: number; pageSize?: number }) => void;\n};\n\nconst TablePagination = memo((props: IProps) => {\n  const {\n    disabled,\n    total,\n    paginationParams: { page, pageSize },\n    onChange,\n    ...extra\n  } = props;\n\n  const scrollTop = useContext(ScrollTopContext);\n\n  const handleChangePage = useCallback(\n    (event: any, page: number) => {\n      scrollTop && scrollTop();\n      onChange({ page: page + 1 });\n    },\n    [onChange, scrollTop]\n  );\n\n  const handleChangeRowsPerPage = useCallback(\n    (event: any) => {\n      scrollTop && scrollTop();\n      onChange({ pageSize: Number(event.target.value) });\n    },\n    [onChange, scrollTop]\n  );\n\n  const labelDisplayedRows = useCallback(\n    ({ from, to, count }: LabelDisplayedRowsArgs) => `${from}-${to} de ${count}`,\n    []\n  );\n\n  return (\n    <div style={disabled ? { pointerEvents: 'none', opacity: 0.7 } : null}>\n      <TablePaginationCore\n        labelRowsPerPage='items'\n        labelDisplayedRows={labelDisplayedRows}\n        rowsPerPageOptions={[10, 25, 50]}\n        component={'div' as any}\n        {...extra}\n        count={total}\n        rowsPerPage={pageSize}\n        page={page}\n        onChangeRowsPerPage={handleChangeRowsPerPage}\n        onChangePage={handleChangePage}\n      />\n    </div>\n  );\n});\n\nexport default TablePagination;\n","import makeStyles from '@material-ui/core/styles/makeStyles';\nimport React, { memo, Props, useCallback, useEffect, useMemo, useRef, useState } from 'react';\n\ninterface IProps extends Props<{}> {\n  minWidth?: number;\n  classes?: any;\n}\n\nconst useStyle = makeStyles({\n  root: {\n    position: 'relative',\n    overflow: 'hidden'\n  },\n  scrollable: {\n    overflow: 'auto',\n    width: '100%'\n  },\n  shadow: {\n    position: 'absolute',\n    right: '-1px',\n    top: '0',\n    bottom: '0',\n    width: '1px',\n    boxShadow: '0px 0px 15px 4px rgba(0, 0, 0, 0.3)',\n    transition: '0.3s'\n  },\n  noShadow: {\n    opacity: 0\n  }\n});\n\nconst TableWrapper = memo((props: IProps) => {\n  const classes = useStyle(props);\n  const root = useRef<HTMLDivElement>();\n\n  const [scrollEnded, setScrollEnded] = useState(true);\n\n  const onScroll = useCallback(() => {\n    const endScroll = root.current.scrollWidth - root.current.clientWidth - 10;\n    setScrollEnded(root.current.scrollLeft >= endScroll);\n  }, [root]);\n\n  useEffect(() => {\n    setScrollEnded(root.current.clientWidth === root.current.scrollWidth);\n\n    root.current.addEventListener('scroll', onScroll);\n    window.addEventListener('resize', onScroll);\n\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      root.current && root.current.removeEventListener('scroll', onScroll);\n      window.removeEventListener('resize', onScroll);\n    };\n  }, [onScroll]);\n\n  const style = useMemo(() => ({ minWidth: props.minWidth || 650 }), [props.minWidth]);\n\n  return (\n    <div className={classes.root}>\n      <div className={`${classes.shadow} ${scrollEnded ? classes.noShadow : ''}`} />\n      <div className={classes.scrollable} ref={root}>\n        <div style={style}>{props.children}</div>\n      </div>\n    </div>\n  );\n});\n\nexport default TableWrapper;\n","import { IPaginationParams } from 'interfaces/pagination';\nimport { DependencyList, useCallback, useState } from 'react';\nimport { useRetryableObservable } from 'react-use-observable';\nimport { Observable, of } from 'rxjs';\nimport { delay, switchMap, tap } from 'rxjs/operators';\n\nexport default function usePaginationObservable<P extends IPaginationParams, T>(\n  observableGenerator: (params: P) => Observable<T>,\n  initialParams: Partial<P>,\n  deps: DependencyList\n) {\n  const [lastResult, setLastResult] = useState<T>(undefined);\n  const [params, setParams] = useState<P>({\n    orderDirection: 'asc',\n    pageSize: 10,\n    page: 0,\n    ...initialParams\n  } as P);\n\n  const mergeParams = useCallback(\n    (newParams: Partial<P>) => {\n      setParams({ ...params, ...newParams });\n    },\n    [params]\n  );\n\n  const [data, error, completed, retry] = useRetryableObservable(() => {\n    return of(true).pipe(\n      delay(500),\n      tap(() => console.log('here')),\n      switchMap(() => observableGenerator(params)),\n      tap(\n        data => setLastResult(data),\n        () => setLastResult(undefined)\n      )\n    );\n  }, [params, ...deps]);\n\n  return [\n    params,\n    mergeParams,\n    data === undefined && error === undefined,\n    data || lastResult,\n    error,\n    completed,\n    retry\n  ] as [typeof params, typeof mergeParams, boolean, T | undefined, typeof error, typeof completed, typeof retry];\n}\n","import IOrder from 'interfaces/models/order';\nimport { Observable } from 'rxjs';\n\nimport { IPaginationParams, IPaginationResponse } from './../interfaces/pagination';\nimport apiService, { ApiService } from './api';\n\nexport class OrderService {\n  constructor(private apiService: ApiService) {}\n\n  public list(params: IPaginationParams): Observable<IPaginationResponse<IOrder>> {\n    return this.apiService.get('/order', params);\n  }\n\n  public save(model: IOrder): Observable<IOrder> {\n    return this.apiService.post('/order', model);\n  }\n\n  public delete(id: number): Observable<void> {\n    return this.apiService.delete(`/order/${id}`);\n  }\n}\n\nconst orderService = new OrderService(apiService);\nexport default orderService;\n","import Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Slide from '@material-ui/core/Slide';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport FormValidation from '@react-form-fields/material-ui/components/FormValidation';\nimport FieldText from '@react-form-fields/material-ui/components/Text';\nimport Toast from 'components/Shared/Toast';\nimport { logError } from 'helpers/rxjs-operators/logError';\nimport useModel from 'hooks/useModel';\nimport IOrder from 'interfaces/models/order';\nimport React, { forwardRef, Fragment, memo, useCallback, useState } from 'react';\nimport { useCallbackObservable } from 'react-use-observable';\nimport { of } from 'rxjs';\nimport { filter, switchMap, tap } from 'rxjs/operators';\nimport orderService from 'services/order';\n\ninterface IProps {\n  opened: boolean;\n  order?: IOrder;\n  onComplete: (order: IOrder) => void;\n  onCancel: () => void;\n}\n\nconst useStyle = makeStyles({\n  content: {\n    width: 400,\n    maxWidth: 'calc(95vw - 50px)'\n  },\n  heading: {\n    marginTop: 20,\n    marginBottom: 10\n  }\n});\n\nconst OrderFormDialog = memo((props: IProps) => {\n  const classes = useStyle(props);\n  const [model, setModelProp, setModel, , clearModel] = useModel<IOrder>({});\n  const [loading, setLoading] = useState<boolean>(true);\n\n  const handleEnter = useCallback(() => {\n    setModel({ ...props.order });\n    setLoading(false);\n  }, [props.order, setModel]);\n\n  const handleExit = useCallback(() => clearModel(), [clearModel]);\n\n  const [onSubmit] = useCallbackObservable(\n    (isValid: boolean) => {\n      return of(isValid).pipe(\n        filter(isValid => isValid),\n        tap(() => setLoading(true)),\n        switchMap(() => orderService.save(model as IOrder)),\n        tap(\n          order => {\n            Toast.show(`${order.description} salvo com sucesso`);\n            props.onComplete(order);\n            setLoading(false);\n          },\n          err => {\n            Toast.error(err.message === 'email-unavailable' ? 'Email já utlizado' : err);\n            setLoading(false);\n          }\n        ),\n        logError()\n      );\n    },\n    [model]\n  );\n\n  return (\n    <Dialog\n      open={props.opened}\n      disableBackdropClick\n      disableEscapeKeyDown\n      onEnter={handleEnter}\n      onExited={handleExit}\n      TransitionComponent={Transition}\n    >\n      {loading && <LinearProgress color='secondary' />}\n\n      <FormValidation onSubmit={onSubmit}>\n        <DialogTitle>{model.id ? 'Editar' : 'Novo'} Usuário</DialogTitle>\n        <DialogContent className={classes.content}>\n          <Fragment>\n            <FieldText\n              label='Descrição'\n              disabled={loading}\n              value={model.description || ''}\n              validation='required'\n              onChange={setModelProp('description', (model, v) => (model.description = v))}\n            />\n\n            <FieldText\n              label='Quantidade'\n              disabled={loading}\n              value={model.amount || ''}\n              type='number'\n              validation='required|min:1|max:1000'\n              onChange={setModelProp('amount', (model, v) => (model.amount = v))}\n            />\n\n            <FieldText\n              label='Valor'\n              disabled={loading}\n              type='number'\n              value={model.value || ''}\n              validation='required|min:1'\n              onChange={setModelProp('email', (model, v) => (model.value = v))}\n            />\n          </Fragment>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={props.onCancel}>Cancelar</Button>\n          <Button color='primary' type='submit' disabled={loading}>\n            Salvar\n          </Button>\n        </DialogActions>\n      </FormValidation>\n    </Dialog>\n  );\n});\n\nconst Transition = memo(\n  forwardRef((props: any, ref: any) => {\n    return <Slide direction='up' {...props} ref={ref} />;\n  })\n);\n\nexport default OrderFormDialog;\n","import TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Alert from 'components/Shared/Alert';\nimport { IOption } from 'components/Shared/DropdownMenu';\nimport TableCellActions from 'components/Shared/Pagination/TableCellActions';\nimport Toast from 'components/Shared/Toast';\nimport { logError } from 'helpers/rxjs-operators/logError';\nimport IOrder from 'interfaces/models/order';\nimport DeleteIcon from 'mdi-react/DeleteIcon';\nimport EditIcon from 'mdi-react/EditIcon';\nimport React, { memo, useCallback, useMemo, useState } from 'react';\nimport { useCallbackObservable } from 'react-use-observable';\nimport { from } from 'rxjs';\nimport { filter, switchMap, tap } from 'rxjs/operators';\nimport orderService from 'services/order';\n\ninterface IProps {\n  order: IOrder;\n  onEdit: (order: IOrder) => void;\n  onDeleteComplete: () => void;\n}\n\nconst ListItem = memo((props: IProps) => {\n  const { order, onEdit, onDeleteComplete } = props;\n\n  const [deleted, setDeleted] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  const handleDismissError = useCallback(() => setError(null), []);\n\n  const handleEdit = useCallback(() => {\n    onEdit(order);\n  }, [onEdit, order]);\n\n  const [handleDelete] = useCallbackObservable(() => {\n    return from(Alert.confirm(`Deseja excluir o pedido ${order.id}?`)).pipe(\n      filter(ok => ok),\n      tap(() => setLoading(true)),\n      switchMap(() => orderService.delete(order.id)),\n      logError(),\n      tap(\n        () => {\n          Toast.show(`O pedido ${order.id} foi removido`);\n          setLoading(true);\n          setDeleted(true);\n          onDeleteComplete();\n        },\n        error => {\n          setLoading(false);\n          setError(error);\n        }\n      )\n    );\n  }, []);\n\n  const options = useMemo<IOption[]>(() => {\n    return [\n      { text: 'Editar', icon: EditIcon, handler: handleEdit },\n      { text: 'Excluir', icon: DeleteIcon, handler: handleDelete }\n    ];\n  }, [handleDelete, handleEdit]);\n\n  if (deleted) {\n    return null;\n  }\n\n  return (\n    <TableRow>\n      <TableCell>{order.description}</TableCell>\n      <TableCell>{order.amount}</TableCell>\n      <TableCell>{order.value}</TableCell>\n      <TableCellActions options={options} loading={loading} error={error} onDismissError={handleDismissError} />\n    </TableRow>\n  );\n});\n\nexport default ListItem;\n","import Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Toolbar from 'components/Layout/Toolbar';\nimport CardLoader from 'components/Shared/CardLoader';\nimport EmptyAndErrorMessages from 'components/Shared/Pagination/EmptyAndErrorMessages';\nimport SearchField from 'components/Shared/Pagination/SearchField';\nimport TableCellActions from 'components/Shared/Pagination/TableCellActions';\nimport TableCellSortable from 'components/Shared/Pagination/TableCellSortable';\nimport TablePagination from 'components/Shared/Pagination/TablePagination';\nimport TableWrapper from 'components/Shared/TableWrapper';\nimport usePaginationObservable from 'hooks/usePagination';\nimport IOrder from 'interfaces/models/order';\nimport RefreshIcon from 'mdi-react/RefreshIcon';\nimport React, { Fragment, memo, useCallback, useState } from 'react';\nimport orderService from 'services/order';\n\nimport OrderFormDialog from '../OrderFormDialog';\nimport ListItem from './ListItem';\n\nconst OrderListPage = memo(() => {\n  const [formOpened, setFormOpened] = useState(false);\n  const [current, setCurrent] = useState();\n\n  const [params, mergeParams, loading, data, error, , refresh] = usePaginationObservable(\n    params => orderService.list(params),\n    { orderBy: 'id', orderDirection: 'asc' },\n    []\n  );\n\n  const handleCreate = useCallback(() => {\n    setCurrent(null);\n    setFormOpened(true);\n  }, []);\n\n  const handleEdit = useCallback((current: IOrder) => {\n    setCurrent(current);\n    setFormOpened(true);\n  }, []);\n\n  const formCallback = useCallback(\n    (order?: IOrder) => {\n      setFormOpened(false);\n      current ? refresh() : mergeParams({ term: order.description });\n    },\n    [current, mergeParams, refresh]\n  );\n\n  const formCancel = useCallback(() => setFormOpened(false), []);\n  const handleRefresh = useCallback(() => refresh(), [refresh]);\n\n  const { total, results } = data || ({ total: 0, results: [] } as typeof data);\n\n  return (\n    <Fragment>\n      <Toolbar title='Pedidos' />\n\n      <Card>\n        <OrderFormDialog opened={formOpened} order={current} onComplete={formCallback} onCancel={formCancel} />\n\n        <CardLoader show={loading} />\n\n        <CardContent>\n          <Grid container justify='space-between' alignItems='center' spacing={2}>\n            <Grid item xs={12} sm={6} lg={4}>\n              <SearchField paginationParams={params} onChange={mergeParams} />\n            </Grid>\n\n            <Grid item xs={12} sm={'auto'}>\n              <Button fullWidth variant='contained' color='primary' onClick={handleCreate}>\n                Adicionar\n              </Button>\n            </Grid>\n          </Grid>\n        </CardContent>\n\n        <TableWrapper minWidth={500}>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCellSortable\n                  paginationParams={params}\n                  disabled={loading}\n                  onChange={mergeParams}\n                  column='description'\n                >\n                  Descrição\n                </TableCellSortable>\n                <TableCellSortable paginationParams={params} disabled={loading} onChange={mergeParams} column='amount'>\n                  Quantidade\n                </TableCellSortable>\n                <TableCellSortable paginationParams={params} disabled={loading} onChange={mergeParams} column='value'>\n                  Valor\n                </TableCellSortable>\n                <TableCellActions>\n                  <IconButton disabled={loading} onClick={handleRefresh}>\n                    <RefreshIcon />\n                  </IconButton>\n                </TableCellActions>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              <EmptyAndErrorMessages\n                colSpan={3}\n                error={error}\n                loading={loading}\n                hasData={results.length > 0}\n                onTryAgain={refresh}\n              />\n              {results.map(order => (\n                <ListItem key={order.id} order={order} onEdit={handleEdit} onDeleteComplete={refresh} />\n              ))}\n            </TableBody>\n          </Table>\n        </TableWrapper>\n\n        <TablePagination total={total} disabled={loading} paginationParams={params} onChange={mergeParams} />\n      </Card>\n    </Fragment>\n  );\n});\n\nexport default OrderListPage;\n","import React, { memo } from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport OrderListPage from './List';\n\nconst UserIndexPage = memo(() => {\n  return (\n    <Switch>\n      <Route path='/' component={OrderListPage} />\n    </Switch>\n  );\n});\n\nexport default UserIndexPage;\n","import AppBar from '@material-ui/core/AppBar';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport React, { memo, Props } from 'react';\n\nconst useStyle = makeStyles(theme => ({\n  root: {\n    height: theme.variables.headerHeight,\n    marginTop: theme.variables.contentPadding * -1,\n    marginBottom: theme.variables.contentPadding,\n    [theme.breakpoints.up('sm')]: {\n      marginTop: theme.variables.contentPaddingUpSm * -1,\n      marginBottom: theme.variables.contentPaddingUpSm\n    }\n  },\n  appBar: {\n    position: 'fixed',\n    top: theme.variables.headerHeight,\n    left: 0,\n    boxShadow: '0px 2px 2px 0px rgba(0, 0, 0, 0.29)',\n    [theme.breakpoints.up('md')]: {\n      left: theme.variables.drawerWidth,\n      top: theme.variables.headerHeightUpSm,\n      width: `calc(100% - ${theme.variables.drawerWidth}px)`,\n      backgroundColor: 'white',\n      color: theme.palette.text.primary\n    }\n  }\n}));\n\nconst ToolbarTabs = memo((props: Props<{}>) => {\n  const classes = useStyle(props);\n\n  return (\n    <div className={classes.root}>\n      <AppBar className={classes.appBar}>{props.children}</AppBar>\n    </div>\n  );\n});\n\nexport default ToolbarTabs;\n","export default function imageCompress(imageBase64: string, width: number, height: number) {\n  return new Promise<string>(async resolve => {\n    const img = new Image();\n    await freeRender();\n\n    img.onload = async () => {\n      const canvas = document.createElement('canvas');\n      await freeRender();\n\n      const context = canvas.getContext('2d');\n      canvas.width = width;\n      canvas.height = height;\n\n      const insideCanvas = document.createElement('canvas');\n      await freeRender();\n\n      const insideContext = insideCanvas.getContext('2d');\n      insideCanvas.width = width;\n      insideCanvas.height = height;\n\n      insideContext.drawImage(img, 0, 0, insideCanvas.width, insideCanvas.height);\n      await freeRender();\n\n      context.drawImage(insideCanvas, 0, 0, insideCanvas.width, insideCanvas.height, 0, 0, canvas.width, canvas.height);\n      await freeRender();\n\n      resolve(canvas.toDataURL());\n    };\n\n    img.src = imageBase64;\n  });\n}\n\nasync function freeRender() {\n  await new Promise(resolve => setTimeout(() => resolve(), 300));\n}\n","import { IImageReaderResult } from './ImageReader';\n\nexport async function loadFile(file: File, extensions: string[]): Promise<IImageReaderResult> {\n  return new Promise<IImageReaderResult>((resolve, reject) => {\n    const regexp = new RegExp(`.(${extensions.join('|')})$`, 'gi');\n\n    if (!regexp.test(file.name)) {\n      reject('invalid-extension');\n      return;\n    }\n\n    const reader = new FileReader();\n\n    reader.onload = (e: any) => resolve(getImageDimensions(e.target.result));\n    reader.onerror = err => reject(err);\n\n    reader.readAsDataURL(file);\n  });\n}\n\nexport function calculateRegion(width: number, height: number): { width: number; height: number } {\n  const dialogWidth = window.innerWidth - 160;\n  const dialogHeight = window.innerHeight - 270;\n\n  if (height <= dialogHeight && width <= dialogWidth) {\n    return { width: Math.floor(width), height: Math.floor(height) };\n  }\n\n  if (width > dialogWidth) {\n    const widthRatio = dialogWidth / width;\n    return calculateRegion(dialogWidth, height * widthRatio);\n  }\n\n  const heightRatio = dialogHeight / height;\n  return calculateRegion(width * heightRatio, dialogHeight);\n}\n\nasync function getImageDimensions(url: string): Promise<IImageReaderResult> {\n  return new Promise<IImageReaderResult>((resolve, reject) => {\n    const image = new Image();\n\n    image.onload = () => resolve({ url, width: image.width, height: image.height });\n    image.onerror = err => reject(err);\n    //   Toast.show();\n    //   setLoading(false);\n\n    image.src = url;\n  });\n}\n","import Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport IconMessage from 'components/Shared/IconMessage';\nimport FolderDownloadIcon from 'mdi-react/FolderDownloadIcon';\nimport FolderOpenIcon from 'mdi-react/FolderOpenIcon';\nimport React, { DragEvent, Fragment, memo, useCallback, useRef, useState } from 'react';\n\nimport Toast from '../Toast';\nimport { loadFile } from './helpers';\n\nexport interface IImageReaderResult {\n  url: string;\n  width: number;\n  height: number;\n}\n\ninterface IProps {\n  droppable?: boolean;\n  className?: string;\n  onLoad: (result: IImageReaderResult) => void;\n}\n\nconst useStyle = makeStyles({\n  progress: {\n    marginRight: 5\n  },\n  dropArea: {\n    width: '100%',\n    maxHeight: '100%',\n    border: '2px dashed #00000029',\n    borderRadius: '3px',\n    textAlign: 'center',\n    paddingBottom: 20,\n    height: 180\n  },\n  dropAreaProgress: {\n    marginTop: 60\n  },\n  dropAreaDragging: {\n    background: '#fff10a1f'\n  },\n  dropAreaDraggingChildren: {\n    pointerEvents: 'none'\n  }\n});\n\nconst ImageReader = memo((props: IProps) => {\n  const classes = useStyle(props);\n  const inputRef = useRef<HTMLInputElement>();\n  const extensions = useRef(['png', 'gif', 'jpeg', 'jpg', 'bmp']).current;\n\n  const [loading, setLoading] = useState(false);\n  const [draggingOver, setDraggingOver] = useState(false);\n\n  const handleSelectImage = useCallback(() => inputRef.current.click(), []);\n\n  const handleLoadFile = useCallback(\n    async (file: File) => {\n      if (loading) return;\n\n      try {\n        setLoading(true);\n        const result = await loadFile(file, extensions);\n        setTimeout(() => props.onLoad(result), 1000);\n      } catch (err) {\n        Toast.show(\n          err === 'invalid-extension' ? `Apenas imagens: ${extensions.join(', ')}` : 'Não conseguimos carregar a imagem'\n        );\n      }\n    },\n    [extensions, loading, props]\n  );\n\n  const onFileSelected = useCallback(() => {\n    if (!inputRef.current.files.length) return;\n\n    setLoading(true);\n\n    handleLoadFile(inputRef.current.files[0]);\n    inputRef.current.value = '';\n  }, [handleLoadFile]);\n\n  const onDropFile = useCallback(\n    (event: DragEvent<any>) => {\n      event.preventDefault();\n      setDraggingOver(false);\n\n      handleLoadFile(event.dataTransfer.files[0]);\n    },\n    [handleLoadFile]\n  );\n\n  const onDragInOut = useCallback((draggingOver: boolean, event: DragEvent<any>) => {\n    event.preventDefault();\n    setDraggingOver(draggingOver);\n  }, []);\n\n  const onDragIn = useCallback((event: DragEvent<any>) => onDragInOut(true, event), [onDragInOut]);\n  const onDragOut = useCallback((event: DragEvent<any>) => onDragInOut(false, event), [onDragInOut]);\n\n  const uploadButton = (\n    <Fragment>\n      <input\n        type='file'\n        ref={inputRef}\n        className='hide'\n        onChange={onFileSelected}\n        accept={`.${extensions.join(',.')}`}\n      />\n\n      <Button color='primary' disabled={loading} onClick={handleSelectImage}>\n        {loading ? <CircularProgress className={classes.progress} size={20} /> : <FolderOpenIcon />}\n        &nbsp;{loading ? 'Carregando' : 'Selecionar'}\n      </Button>\n    </Fragment>\n  );\n\n  if (!props.droppable) {\n    return uploadButton;\n  }\n\n  return (\n    <div\n      className={`${classes.dropArea} ${props.className || ''} ${draggingOver ? classes.dropAreaDragging : null}`}\n      onDrop={onDropFile}\n      onDragOver={onDragIn}\n      onDragLeave={onDragOut}\n    >\n      {loading && <CircularProgress color='secondary' size={50} className={classes.dropAreaProgress} />}\n\n      {!loading && (\n        <Fragment>\n          <div className={classes.dropAreaDraggingChildren}>\n            <IconMessage icon={FolderDownloadIcon} message='Arraste e solte a imagem aqui ou' />\n          </div>\n\n          <div className={draggingOver ? classes.dropAreaDraggingChildren : null}>{uploadButton}</div>\n        </Fragment>\n      )}\n    </div>\n  );\n});\n\nexport default ImageReader;\n","import Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Grid from '@material-ui/core/Grid';\nimport Slide from '@material-ui/core/Slide';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Typography from '@material-ui/core/Typography';\nimport transparency from 'assets/images/transparency.png';\nimport imageCompress from 'helpers/imagerCompress';\nimport React, { forwardRef, Fragment, memo, useCallback, useEffect, useRef, useState } from 'react';\nimport { Cropper } from 'react-image-cropper';\n\nimport { calculateRegion } from './helpers';\nimport ImageReader, { IImageReaderResult } from './ImageReader';\n\nexport interface IImageSelectorResult {\n  filename: string;\n  base64: string;\n}\n\ninterface IProps {\n  opened: boolean;\n  width: number;\n  height: number;\n  onComplete: (result: IImageSelectorResult) => void;\n  classes?: any;\n}\n\nconst useStyle = makeStyles({\n  imageContainer: {\n    background: `url('${transparency}') repeat`,\n    boxShadow: '5px 5px 10px #00000040',\n    margin: 'auto'\n  },\n  content: {\n    overflow: 'auto',\n    width: 'calc(100vw - 110px)',\n    maxHeight: 'calc(100vh - 140px) !important'\n  }\n});\n\nconst ImageSelector = memo((props: IProps) => {\n  const classes = useStyle(props);\n  const cropper = useRef<any>();\n\n  const [resizeTimeout, setResizeTimeout] = useState();\n  const [image, setImage] = useState<IImageReaderResult>();\n  const [saving, setSaving] = useState(false);\n  const [dimentions, setDimentions] = useState<{ width: number; height: number }>();\n\n  const reCalculateRegion = useCallback(() => {\n    clearTimeout(resizeTimeout);\n    setResizeTimeout(\n      setTimeout(() => {\n        if (!image) return;\n\n        const newDimentions = calculateRegion(image.width, image.height);\n\n        if (dimentions && newDimentions.width === dimentions.width && newDimentions.height === dimentions.height) {\n          return;\n        }\n\n        setImage(null);\n        setTimeout(() => {\n          setImage(image);\n          setDimentions(newDimentions);\n        }, 0);\n      }, 500)\n    );\n  }, [dimentions, image, resizeTimeout]);\n\n  useEffect(() => {\n    window.addEventListener('resize', reCalculateRegion);\n    return () => window.removeEventListener('resize', reCalculateRegion);\n  }, [reCalculateRegion]);\n\n  const onExited = useCallback(() => setImage(null), []);\n\n  const handleSave = useCallback(async () => {\n    setSaving(true);\n\n    const result = await imageCompress(cropper.current.crop(), props.width, props.height);\n    props.onComplete({\n      filename: 'image.png',\n      base64: result\n    });\n\n    setSaving(false);\n  }, [props]);\n\n  const handleCancel = useCallback(() => props.onComplete(null), [props]);\n\n  const handleSetImage = useCallback((image: IImageReaderResult) => {\n    setImage(null);\n\n    setTimeout(() => {\n      const dimentions = calculateRegion(image.width, image.height);\n      setImage(image);\n      setDimentions(dimentions);\n    }, 0);\n  }, []);\n\n  return (\n    <Fragment>\n      <Dialog\n        open={props.opened || false}\n        maxWidth={false}\n        disableBackdropClick\n        disableEscapeKeyDown\n        onExited={onExited}\n        TransitionComponent={Transition}\n      >\n        <DialogTitle>\n          <Grid container spacing={3} alignContent='center'>\n            <Grid item xs={true}>\n              Selecionar Imagem\n              <Typography variant='body1'>\n                <strong>Tamanho sugerido:</strong> {props.height}px de altura {props.width}px de largura\n              </Typography>\n            </Grid>\n            {image && (\n              <Grid item xs={false}>\n                <ImageReader onLoad={handleSetImage} />\n              </Grid>\n            )}\n          </Grid>\n        </DialogTitle>\n        <DialogContent className={classes.content}>\n          {!image && <ImageReader onLoad={handleSetImage} droppable />}\n\n          {image && (\n            <div className={classes.imageContainer} style={dimentions}>\n              <Cropper\n                src={image.url}\n                ratio={props.width / props.height}\n                width={props.width}\n                height={props.height}\n                allowNewSelection={false}\n                ref={cropper}\n              />\n            </div>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button disabled={saving} onClick={handleCancel}>\n            Cancelar\n          </Button>\n          <Button disabled={!image || saving} color='primary' onClick={handleSave}>\n            {saving ? <CircularProgress size={20} /> : 'OK'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n});\n\nconst Transition = memo(\n  forwardRef((props: any, ref: any) => {\n    return <Slide direction='up' {...props} ref={ref} />;\n  })\n);\n\nexport default ImageSelector;\n","import Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from 'components/Layout/Toolbar';\nimport ToolbarTabs from 'components/Layout/ToolbarTabs';\nimport ImageSelector, { IImageSelectorResult } from 'components/Shared/ImageSelector';\nimport React, { Fragment, memo, useCallback, useState } from 'react';\n\nconst useStyle = makeStyles(theme => ({\n  img: {\n    maxWidth: '100%',\n    margin: 'auto',\n    display: 'block',\n    padding: 5,\n    boxShadow: theme.shadows['5']\n  },\n  cardActions: {\n    justifyContent: 'flex-end'\n  }\n}));\n\nconst SamplePage = memo((props: {}) => {\n  const classes = useStyle(props);\n  const [selectorOpened, setSelectorOpened] = useState(false);\n  const [image, setImage] = useState('');\n\n  const openSelector = useCallback(() => setSelectorOpened(true), []);\n  const onSelectorComplete = useCallback((image: IImageSelectorResult) => {\n    setImage(image.base64);\n    setSelectorOpened(false);\n  }, []);\n\n  return (\n    <Fragment>\n      <ImageSelector opened={selectorOpened} width={500} height={500} onComplete={onSelectorComplete} />\n\n      <Toolbar title='Extra'></Toolbar>\n      <ToolbarTabs>\n        <Tabs value={0}>\n          <Tab label='Image Cropper' />\n          <Tab label='Nothing' />\n        </Tabs>\n      </ToolbarTabs>\n\n      <Card>\n        <CardContent>\n          <Typography variant='subtitle1' gutterBottom>\n            Image Cropper + Compressor\n          </Typography>\n          {!!image && <img className={classes.img} src={image} alt='base64' />}\n        </CardContent>\n        <CardActions className={classes.cardActions}>\n          <Button onClick={openSelector} variant='contained' color='primary'>\n            Selecionar\n          </Button>\n        </CardActions>\n      </Card>\n    </Fragment>\n  );\n});\nexport default SamplePage;\n","import cache from 'helpers/rxjs-operators/cache';\nimport IUser from 'interfaces/models/user';\nimport IUserRole from 'interfaces/models/userRole';\nimport { IPaginationParams, IPaginationResponse } from 'interfaces/pagination';\nimport { Observable } from 'rxjs';\n\nimport apiService, { ApiService } from './api';\n\nexport class UserService {\n  constructor(private apiService: ApiService) {}\n\n  public list(params: IPaginationParams): Observable<IPaginationResponse<IUser>> {\n    return this.apiService.get('/user', params);\n  }\n\n  public roles(refresh: boolean = false): Observable<IUserRole[]> {\n    return this.apiService.get('/user/roles').pipe(cache('user-service-roles', { refresh }));\n  }\n\n  public save(model: IUser): Observable<IUser> {\n    return this.apiService.post('/user', model);\n  }\n\n  public delete(id: number): Observable<void> {\n    return this.apiService.delete(`/user/${id}`);\n  }\n}\n\nconst userService = new UserService(apiService);\nexport default userService;\n","import Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Slide from '@material-ui/core/Slide';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Typography from '@material-ui/core/Typography';\nimport FieldCheckbox from '@react-form-fields/material-ui/components/Checkbox';\nimport CustomMessage from '@react-form-fields/material-ui/components/CustomMessage';\nimport FormValidation from '@react-form-fields/material-ui/components/FormValidation';\nimport FieldHidden from '@react-form-fields/material-ui/components/Hidden';\nimport FieldText from '@react-form-fields/material-ui/components/Text';\nimport ErrorMessage from 'components/Shared/ErrorMessage';\nimport Toast from 'components/Shared/Toast';\nimport { logError } from 'helpers/rxjs-operators/logError';\nimport useModel from 'hooks/useModel';\nimport IUser from 'interfaces/models/user';\nimport IUserRole from 'interfaces/models/userRole';\nimport React, { forwardRef, Fragment, memo, useCallback, useState } from 'react';\nimport { useCallbackObservable, useRetryableObservable } from 'react-use-observable';\nimport { of } from 'rxjs';\nimport { filter, switchMap, tap } from 'rxjs/operators';\nimport userService from 'services/user';\n\ninterface IProps {\n  opened: boolean;\n  user?: IUser;\n  onComplete: (user: IUser) => void;\n  onCancel: () => void;\n}\n\nconst useStyle = makeStyles({\n  content: {\n    width: 400,\n    maxWidth: 'calc(95vw - 50px)'\n  },\n  heading: {\n    marginTop: 20,\n    marginBottom: 10\n  }\n});\n\nconst UserFormDialog = memo((props: IProps) => {\n  const classes = useStyle(props);\n\n  const [model, setModelProp, setModel, , clearModel] = useModel<IUser>({ roles: [] });\n  const [loading, setLoading] = useState<boolean>(true);\n\n  const [roles, rolesError, , retryRoles] = useRetryableObservable<Array<IUserRole>>(() => {\n    setLoading(true);\n\n    return userService.roles().pipe(\n      tap(\n        () => setLoading(false),\n        () => setLoading(false)\n      ),\n      logError()\n    );\n  }, []);\n\n  const handleEnter = useCallback(() => {\n    setModel({ ...(props.user || {}), roles: props.user && props.user.roles ? props.user.roles : [] });\n    retryRoles();\n  }, [props.user, retryRoles, setModel]);\n\n  const handleExit = useCallback(() => {\n    clearModel();\n  }, [clearModel]);\n\n  const [onSubmit] = useCallbackObservable(\n    (isValid: boolean) => {\n      return of(isValid).pipe(\n        filter(isValid => isValid),\n        tap(() => setLoading(true)),\n        switchMap(() => userService.save(model as IUser)),\n        tap(\n          user => {\n            Toast.show(`${user.firstName} foi salvo${model.id ? '' : ', um email foi enviado com a senha'}`);\n            props.onComplete(user);\n            setLoading(false);\n          },\n          err => {\n            Toast.error(err.message === 'email-unavailable' ? 'Email já utlizado' : err);\n            setLoading(false);\n          }\n        ),\n        logError()\n      );\n    },\n    [model]\n  );\n\n  return (\n    <Dialog\n      open={props.opened}\n      disableBackdropClick\n      disableEscapeKeyDown\n      onEnter={handleEnter}\n      onExited={handleExit}\n      TransitionComponent={Transition}\n    >\n      {loading && <LinearProgress color='secondary' />}\n\n      <FormValidation onSubmit={onSubmit}>\n        <DialogTitle>{model.id ? 'Editar' : 'Novo'} Usuário</DialogTitle>\n        <DialogContent className={classes.content}>\n          {rolesError && <ErrorMessage error={rolesError} tryAgain={retryRoles} />}\n\n          {!rolesError && (\n            <Fragment>\n              <FieldText\n                label='Nome'\n                disabled={loading}\n                value={model.firstName}\n                validation='required|min:3|max:50'\n                onChange={setModelProp('firstName', (model, v) => (model.firstName = v))}\n              />\n\n              <FieldText\n                label='Sobrenome'\n                disabled={loading}\n                value={model.lastName}\n                validation='string|min:3|max:50'\n                onChange={setModelProp('lastName', (model, v) => (model.lastName = v))}\n              />\n\n              <FieldText\n                label='Email'\n                type='email'\n                disabled={loading}\n                value={model.email}\n                validation='required|email|max:150'\n                onChange={setModelProp('email', (model, v) => (model.email = v))}\n              />\n\n              <Typography variant='subtitle1' className={classes.heading}>\n                Acesso\n              </Typography>\n\n              <FieldHidden value={model.roles.length} validation='required|numeric|min:1'>\n                <CustomMessage rules='min,required,numeric'>Selecione ao menos um</CustomMessage>\n              </FieldHidden>\n\n              {(roles || []).map(role => (\n                <div key={role.role}>\n                  <FieldCheckbox\n                    helperText={role.description}\n                    checked={model.roles.includes(role.role)}\n                    label={role.name}\n                    onChange={setModelProp(`role-${role.role}`, model =>\n                      model.roles.includes(role.role)\n                        ? (model.roles = model.roles.filter(r => r !== role.role))\n                        : (model.roles = [...model.roles, role.role])\n                    )}\n                  />\n                </div>\n              ))}\n            </Fragment>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={props.onCancel}>Cancelar</Button>\n          <Button color='primary' type='submit' disabled={loading || !!rolesError}>\n            Salvar\n          </Button>\n        </DialogActions>\n      </FormValidation>\n    </Dialog>\n  );\n});\n\nconst Transition = memo(\n  forwardRef((props: any, ref: any) => {\n    return <Slide direction='up' {...props} ref={ref} />;\n  })\n);\n\nexport default UserFormDialog;\n","import TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Alert from 'components/Shared/Alert';\nimport { IOption } from 'components/Shared/DropdownMenu';\nimport TableCellActions from 'components/Shared/Pagination/TableCellActions';\nimport Toast from 'components/Shared/Toast';\nimport { logError } from 'helpers/rxjs-operators/logError';\nimport IUser from 'interfaces/models/user';\nimport DeleteIcon from 'mdi-react/DeleteIcon';\nimport EditIcon from 'mdi-react/EditIcon';\nimport React, { memo, useCallback, useMemo, useState } from 'react';\nimport { useCallbackObservable } from 'react-use-observable';\nimport { from } from 'rxjs';\nimport { filter, switchMap, tap } from 'rxjs/operators';\nimport userService from 'services/user';\n\ninterface IProps {\n  user: IUser;\n  onEdit: (user: IUser) => void;\n  onDeleteComplete: () => void;\n}\n\nconst ListItem = memo((props: IProps) => {\n  const { user, onEdit, onDeleteComplete } = props;\n\n  const [deleted, setDeleted] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  const handleDismissError = useCallback(() => setError(null), []);\n\n  const handleEdit = useCallback(() => {\n    onEdit(user);\n  }, [onEdit, user]);\n\n  const [handleDelete] = useCallbackObservable(() => {\n    return from(Alert.confirm(`Deseja excluir o usuário ${user.firstName}?`)).pipe(\n      filter(ok => ok),\n      tap(() => setLoading(true)),\n      switchMap(() => userService.delete(user.id)),\n      logError(),\n      tap(\n        () => {\n          Toast.show(`${user.firstName} foi removido`);\n          setLoading(true);\n          setDeleted(true);\n          onDeleteComplete();\n        },\n        error => {\n          setLoading(false);\n          setError(error);\n        }\n      )\n    );\n  }, []);\n\n  const options = useMemo<IOption[]>(() => {\n    return [\n      { text: 'Editar', icon: EditIcon, handler: handleEdit },\n      { text: 'Excluir', icon: DeleteIcon, handler: handleDelete }\n    ];\n  }, [handleDelete, handleEdit]);\n\n  if (deleted) {\n    return null;\n  }\n\n  return (\n    <TableRow>\n      <TableCell>{user.fullName}</TableCell>\n      <TableCell>{user.email}</TableCell>\n      <TableCellActions options={options} loading={loading} error={error} onDismissError={handleDismissError} />\n    </TableRow>\n  );\n});\n\nexport default ListItem;\n","import Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Toolbar from 'components/Layout/Toolbar';\nimport CardLoader from 'components/Shared/CardLoader';\nimport EmptyAndErrorMessages from 'components/Shared/Pagination/EmptyAndErrorMessages';\nimport SearchField from 'components/Shared/Pagination/SearchField';\nimport TableCellActions from 'components/Shared/Pagination/TableCellActions';\nimport TableCellSortable from 'components/Shared/Pagination/TableCellSortable';\nimport TablePagination from 'components/Shared/Pagination/TablePagination';\nimport TableWrapper from 'components/Shared/TableWrapper';\nimport usePaginationObservable from 'hooks/usePagination';\nimport IUser from 'interfaces/models/user';\nimport RefreshIcon from 'mdi-react/RefreshIcon';\nimport React, { Fragment, memo, useCallback, useState } from 'react';\nimport userService from 'services/user';\n\nimport UserFormDialog from '../UserFormDialog';\nimport ListItem from './ListItem';\n\nconst UserListPage = memo(() => {\n  const [formOpened, setFormOpened] = useState(false);\n  const [current, setCurrent] = useState();\n\n  const [params, mergeParams, loading, data, error, , refresh] = usePaginationObservable(\n    params => userService.list(params),\n    { orderBy: 'fullName', orderDirection: 'asc' },\n    []\n  );\n\n  const handleCreate = useCallback(() => {\n    setCurrent(null);\n    setFormOpened(true);\n  }, []);\n\n  const handleEdit = useCallback((current: IUser) => {\n    setCurrent(current);\n    setFormOpened(true);\n  }, []);\n\n  const formCallback = useCallback(\n    (user?: IUser) => {\n      setFormOpened(false);\n      current ? refresh() : mergeParams({ term: user.email });\n    },\n    [current, mergeParams, refresh]\n  );\n\n  const formCancel = useCallback(() => setFormOpened(false), []);\n  const handleRefresh = useCallback(() => refresh(), [refresh]);\n\n  const { total, results } = data || ({ total: 0, results: [] } as typeof data);\n\n  return (\n    <Fragment>\n      <Toolbar title='Usuários' />\n\n      <Card>\n        <UserFormDialog opened={formOpened} user={current} onComplete={formCallback} onCancel={formCancel} />\n\n        <CardLoader show={loading} />\n\n        <CardContent>\n          <Grid container justify='space-between' alignItems='center' spacing={2}>\n            <Grid item xs={12} sm={6} lg={4}>\n              <SearchField paginationParams={params} onChange={mergeParams} />\n            </Grid>\n\n            <Grid item xs={12} sm={'auto'}>\n              <Button fullWidth variant='contained' color='primary' onClick={handleCreate}>\n                Adicionar\n              </Button>\n            </Grid>\n          </Grid>\n        </CardContent>\n\n        <TableWrapper minWidth={500}>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCellSortable\n                  paginationParams={params}\n                  disabled={loading}\n                  onChange={mergeParams}\n                  column='fullName'\n                >\n                  Nome\n                </TableCellSortable>\n                <TableCellSortable paginationParams={params} disabled={loading} onChange={mergeParams} column='email'>\n                  Email\n                </TableCellSortable>\n                <TableCellActions>\n                  <IconButton disabled={loading} onClick={handleRefresh}>\n                    <RefreshIcon />\n                  </IconButton>\n                </TableCellActions>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              <EmptyAndErrorMessages\n                colSpan={3}\n                error={error}\n                loading={loading}\n                hasData={results.length > 0}\n                onTryAgain={refresh}\n              />\n              {results.map(user => (\n                <ListItem key={user.id} user={user} onEdit={handleEdit} onDeleteComplete={refresh} />\n              ))}\n            </TableBody>\n          </Table>\n        </TableWrapper>\n\n        <TablePagination total={total} disabled={loading} paginationParams={params} onChange={mergeParams} />\n      </Card>\n    </Fragment>\n  );\n});\n\nexport default UserListPage;\n","import React, { memo } from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport UserListPage from './List';\n\nconst UserIndexPage = memo(() => {\n  return (\n    <Switch>\n      <Route path='/' component={UserListPage} />\n    </Switch>\n  );\n});\n\nexport default UserIndexPage;\n","import makeStyles from '@material-ui/core/styles/makeStyles';\nimport Drawer from 'components/Layout/Drawer';\nimport PermissionRoute from 'components/Shared/PermissionRoute';\nimport { enRoles } from 'interfaces/models/user';\nimport AccountCashIcon from 'mdi-react/AccountCashIcon';\nimport AccountMultipleIcon from 'mdi-react/AccountMultipleIcon';\nimport StarIcon from 'mdi-react/StarIcon';\nimport ViewDashboardIcon from 'mdi-react/ViewDashboardIcon';\nimport React, { memo, useCallback, useRef, useState } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\n\nimport DashboardIndexPage from './Dashboard';\nimport OrderIndexPage from './Order';\nimport SamplePage from './Sample';\nimport UserIndexPage from './User';\n\nexport const ScrollTopContext = React.createContext<Function>(() => {});\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'relative',\n    display: 'flex',\n    width: '100vw',\n    height: '100vh'\n  },\n  content: {\n    backgroundColor: theme.palette.background.default,\n    width: '100vw',\n    height: '100vh',\n    overflow: 'auto',\n    padding: theme.variables.contentPadding,\n    [theme.breakpoints.up('sm')]: {\n      padding: theme.variables.contentPaddingUpSm\n    }\n  }\n}));\n\nconst AdminPage = memo((props: {}) => {\n  const classes = useStyles(props);\n\n  const mainContent = useRef<HTMLDivElement>();\n  const [menu] = useState([\n    { path: '/', display: 'Dashboard', icon: ViewDashboardIcon },\n    {\n      path: '/usuarios',\n      display: 'Usuários',\n      role: enRoles.admin,\n      icon: AccountMultipleIcon\n    },\n    { path: '/exemplos', display: 'Exemplos', icon: StarIcon },\n    { path: '/orders', display: 'Pedidos', icon: AccountCashIcon }\n  ]);\n\n  const scrollTop = useCallback(() => setTimeout(() => mainContent.current.scrollTo(0, 0), 100), []);\n  const renderRedirect = useCallback(() => <Redirect to='/' />, []);\n\n  return (\n    <div className={classes.root}>\n      <ScrollTopContext.Provider value={scrollTop}>\n        <Drawer menu={menu}>\n          <main ref={mainContent} className={classes.content}>\n            <Switch>\n              <Route path='/exemplos' component={SamplePage} />\n              <PermissionRoute path='/usuarios' role={enRoles.sysAdmin} component={UserIndexPage} />\n              <PermissionRoute path='/orders' exact component={OrderIndexPage} />\n              <Route path='/' component={DashboardIndexPage} />\n              <Route render={renderRedirect} />\n            </Switch>\n          </main>\n        </Drawer>\n      </ScrollTopContext.Provider>\n    </div>\n  );\n});\n\nexport default AdminPage;\n","import makeStyles from '@material-ui/core/styles/makeStyles';\n\nconst useStyle = makeStyles(theme => ({\n  root: {\n    background: theme.palette.primary.main,\n    minHeight: '100vh',\n    minWidth: '100vw',\n    position: 'relative'\n  },\n  container: {\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    right: '0',\n    bottom: '0',\n    margin: 'auto',\n    width: '320px',\n    height: '400px',\n    maxWidth: 'calc(100% - 30px)',\n    color: 'white'\n  },\n  logo: {\n    textAlign: 'center',\n    marginBottom: 20\n  },\n  logoImage: {\n    maxWidth: '100%',\n    maxHeight: 120\n  },\n  viewContainer: {\n    boxSizing: 'border-box',\n    padding: '0 10px',\n    height: 310\n  },\n  buttons: {\n    justifyContent: 'flex-end'\n  }\n}));\n\nexport default useStyle;\n","import Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport FormValidation from '@react-form-fields/material-ui/components/FormValidation';\nimport FieldText from '@react-form-fields/material-ui/components/Text';\nimport logoWhite from 'assets/images/logo-white.png';\nimport Toast from 'components/Shared/Toast';\nimport { logError } from 'helpers/rxjs-operators/logError';\nimport useModel from 'hooks/useModel';\nimport IResetPasswordToken from 'interfaces/tokens/resetPasswordToken';\nimport queryString from 'query-string';\nimport React, { memo, useEffect, useState } from 'react';\nimport { Redirect, RouteComponentProps } from 'react-router-dom';\nimport { useCallbackObservable } from 'react-use-observable';\nimport { of } from 'rxjs';\nimport { filter, switchMap, tap } from 'rxjs/operators';\nimport authService from 'services/auth';\nimport tokenService from 'services/token';\n\nimport useStyles from './style';\n\ninterface IProps extends RouteComponentProps<{ t: string }> {}\n\nconst NewPasswordPage = memo((props: IProps) => {\n  const classes = useStyles(props);\n\n  const [model, setModelProp] = useModel<{ password: string; confirmPassword: string }>();\n  const [loading, setLoading] = useState<boolean>(true);\n  const [token, setToken] = useState<string>();\n  const [tokenData, setTokenData] = useState<IResetPasswordToken>();\n\n  useEffect(() => {\n    const token = queryString.parse(props.location.search).t as string;\n    const tokenData = tokenService.decode<IResetPasswordToken>(token);\n\n    setToken(token);\n    setTokenData(tokenData);\n    setLoading(false);\n  }, [props.location.search]);\n\n  const [onSubmit] = useCallbackObservable(\n    (isValid: boolean) => {\n      return of(isValid).pipe(\n        filter(isValid => isValid),\n        tap(() => setLoading(true)),\n        switchMap(() => authService.resetPassword(token, model.password)),\n        switchMap(() => authService.login(tokenData.email, model.password)),\n        tap(\n          () => {\n            Toast.show('Senha alterada com sucesso!');\n            props.history.push('/');\n          },\n          err => {\n            Toast.error(err);\n            setLoading(false);\n          }\n        ),\n        logError()\n      );\n    },\n    [tokenData, model, props.history]\n  );\n\n  if (!loading && !tokenData) {\n    return <Redirect to='/' />;\n  }\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.container}>\n        <div className={classes.logo}>\n          <img src={logoWhite} className={classes.logoImage} alt='logo' />\n        </div>\n\n        <FormValidation onSubmit={onSubmit}>\n          <Card>\n            <CardContent>\n              <Typography>Olá {tokenData?.firstName}, informe sua nova senha:</Typography>\n\n              <FieldText\n                label='Nova senha'\n                type='password'\n                disabled={loading}\n                value={model.password}\n                validation='required|min:5'\n                onChange={setModelProp('password', (model, v) => (model.password = v))}\n              />\n\n              <FieldText\n                label='Repita a senha'\n                type='password'\n                disabled={loading}\n                value={model.confirmPassword}\n                validation='required|same:nova senha'\n                validationContext={{ 'nova senha': model.password }}\n                onChange={setModelProp('confirmPassword', (model, v) => (model.confirmPassword = v))}\n              />\n            </CardContent>\n\n            <CardActions className={classes.buttons}>\n              <Button disabled={loading} color='primary' type='submit'>\n                Salvar\n              </Button>\n            </CardActions>\n\n            {loading && <LinearProgress color='secondary' />}\n          </Card>\n        </FormValidation>\n      </div>\n    </div>\n  );\n});\nexport default NewPasswordPage;\n","import PermissionRoute from 'components/Shared/PermissionRoute';\nimport React, { memo, useCallback } from 'react';\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\n\nimport AdminPage from './Admin';\nimport NewPasswordPage from './Public/NewPassword';\n\nconst Pages = memo(() => {\n  const renderEmpty = useCallback(() => <div />, []);\n  const renderRedirect = useCallback(() => <Redirect to='/' />, []);\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path='/nova-senha' exact component={NewPasswordPage} />\n        <PermissionRoute path='/' component={AdminPage} />\n\n        <Route path='/reload' exact render={renderEmpty} />\n        <Route render={renderRedirect} />\n      </Switch>\n    </BrowserRouter>\n  );\n});\n\nexport default Pages;\n","import { BehaviorSubject, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport class LoaderService {\n  private refs = new BehaviorSubject<string[]>([]);\n\n  public shouldShow(): Observable<boolean> {\n    return this.refs.asObservable().pipe(map(refs => refs.length > 0));\n  }\n\n  public show(ref: string): void {\n    if (typeof ref !== 'string') {\n      throw new Error('Loader.show needs a ref string value');\n    }\n\n    if (this.refs.value.includes(ref)) return;\n    this.refs.next([...this.refs.value, ref]);\n  }\n\n  public hide(ref: string): void {\n    if (typeof ref !== 'string') {\n      throw new Error('Loader.hide needs a ref string value');\n    }\n\n    this.refs.next([...this.refs.value.filter(r => r !== ref)]);\n  }\n}\n\nconst loaderService = new LoaderService();\nexport default loaderService;\n","import CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport Slide from '@material-ui/core/Slide';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport { logError } from 'helpers/rxjs-operators/logError';\nimport React, { forwardRef, memo, useMemo } from 'react';\nimport { useObservable } from 'react-use-observable';\nimport loaderService from 'services/loader';\n\nconst useStyle = makeStyles(theme => ({\n  loader: {\n    width: 70,\n    height: 70,\n    color: theme.palette.secondary.light\n  },\n  paper: {\n    boxShadow: 'none',\n    outline: 'none',\n    backgroundColor: 'transparent'\n  }\n}));\n\nconst Loader = memo((props: {}) => {\n  const classes = useStyle(props);\n  const [visible] = useObservable(() => loaderService.shouldShow().pipe(logError()), []);\n\n  const paperProps = useMemo(() => ({ className: classes.paper }), [classes.paper]);\n\n  return (\n    <Dialog open={visible || false} TransitionComponent={Transition} PaperProps={paperProps}>\n      <CircularProgress className={classes.loader} size='large' color='inherit' />\n    </Dialog>\n  );\n});\n\nconst Transition = memo(\n  forwardRef((props: any, ref: any) => {\n    return <Slide direction='up' {...props} ref={ref} />;\n  })\n);\n\nexport default Loader;\n","import ConfigBuilder from '@react-form-fields/material-ui/config/builder';\nimport lang from '@react-form-fields/material-ui/lang/pt-br';\n\nconst fieldConfig = new ConfigBuilder()\n  .fromLang(lang)\n  .setTrumbowygConfig({\n    btns: [\n      'viewHTML',\n      ['h1', 'h2'],\n      ['bold', 'italic', 'underline'],\n      ['superscript', 'subscript'],\n      'btnGrp-justify',\n      'btnGrp-lists',\n      ['horizontalRule'],\n      ['removeformat'],\n      ['fullscreen']\n    ]\n  })\n  .build();\n\nexport default fieldConfig;\n","import './assets/global.css';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport FormFieldsContext from '@react-form-fields/material-ui/components/Context';\nimport { theme } from 'assets/theme';\nimport Dialogs from 'components/Dialogs';\nimport Pages from 'components/Pages';\nimport Alert from 'components/Shared/Alert';\nimport Loader from 'components/Shared/Loader';\nimport Toast from 'components/Shared/Toast';\nimport fieldConfig from 'fieldConfig';\nimport React, { memo } from 'react';\n\nconst App = memo(() => {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <FormFieldsContext config={fieldConfig}>\n        <CssBaseline />\n        <Dialogs />\n\n        <Loader />\n\n        <Alert.Global />\n        <Toast.Global />\n\n        <Pages />\n      </FormFieldsContext>\n    </MuiThemeProvider>\n  );\n});\n\nexport default App;\n","import React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root') as HTMLElement);\n\nif ('serviceWorker' in navigator) {\n  navigator.serviceWorker.ready.then(registration => {\n    registration.unregister();\n  });\n}\n"],"sourceRoot":""}